!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Tsumami=t():e.Tsumami=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,"default",(function(){return v}));var a=function(e){return e+"px"},o=function(e){return e+"deg"},l=function(e){return"rotate("+o(Math.floor(e))+")"},s=function(e){return"skewY("+o(Math.floor(e))+")"},u=function(e){var t,r="",i=n(e);try{for(i.s();!(t=i.n()).done;){r+=t.value+" "}}catch(e){i.e(e)}finally{i.f()}return r};function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function h(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var v=function e(t){var r,n,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),M.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),O.set(this,{writable:!0,value:void 0}),W.set(this,{writable:!0,value:void 0}),j.set(this,{writable:!0,value:void 0}),E.set(this,{writable:!0,value:void 0}),P.set(this,{writable:!0,value:void 0}),S.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),B.set(this,{writable:!0,value:function(){i.meterbg=document.createElement("div"),i.pie=document.createElement("ul"),i.meterbghole=document.createElement("div"),i.meterbgholeout=document.createElement("div"),i.tsumami=document.createElement("div"),i.point=document.createElement("div"),i.sliceMeterBg=[],i.sliceMeterBgContents=[],i.sliceMeter=[],i.sliceMeterContents=[]}}),C.set(this,{writable:!0,value:function(){p(i,A).call(i,p(i,b),{center:!1,position:"relative",width:a(p(i,m)),height:a(p(i,m)),background:p(i,w)}),p(i,A).call(i,i.meterbg,{center:!0,borderRadius:"50%",background:p(i,y),width:a(p(i,m)/p(i,O)),height:a(p(i,m)/p(i,O))},"tsumami-meterbg",p(i,b)),p(i,A).call(i,i.pie,{center:!1,overflow:"hidden",borderRadius:"50%",position:"absolute",padding:0,margin:0,width:a(p(i,m)),height:a(p(i,m)),left:a((p(i,m)-p(i,m)/p(i,O))/-2),top:a((p(i,m)-p(i,m)/p(i,O))/-2)},"tsumami-meter",i.meterbg),p(i,_).call(i,p(i,k)),p(i,D).call(i,p(i,k)),p(i,A).call(i,i.meterbghole,{center:!0,borderRadius:"50%",width:a(p(i,m)/p(i,O)-p(i,M)),height:a(p(i,m)/p(i,O)-p(i,M)),background:p(i,w)},"tsumami-meterhole",i.meterbg),p(i,A).call(i,i.meterbgholeout,{center:!1,position:"absolute",borderRadius:"50%",width:a(p(i,m)/p(i,O)),height:a(p(i,m)/p(i,O)),background:"rgba(0,0,0,0)",border:u(["solid",a((p(i,m)-p(i,m)/p(i,O))/2),p(i,w)]),margin:0,top:"50%",left:"50%",transform:u(["translateX(-50%)","translateY(-50%)"])},"tsumami-meterhole-out",i.meterbg),p(i,A).call(i,i.tsumami,{center:!0,userSelect:"none",width:a(p(i,m)/2),height:a(p(i,m)/2),background:p(i,g),borderRadius:"50%",transform:l(p(i,k)/-2)},"tsumami-inner",p(i,b)),p(i,A).call(i,i.point,{center:!0,width:"10%",height:"20%",background:p(i,S),transform:"translateY(-100%)"},"tsumami-point",i.tsumami),p(i,I).call(i,i.tsumami);var e=p(i,x)*p(i,k)/(p(i,j)-p(i,W));p(i,q).call(i,e),i.tsumami.style.transform=l(e-p(i,k)/2),p(i,$).value=p(i,x)}}),T.set(this,{writable:!0,value:function(){return{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto"}}}),A.set(this,{writable:!0,value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;for(var a in void 0!==r&&(e.className=r),t.center&&(t=Object.assign(p(i,T).call(i),t)),delete t.center,t)e.style[a]=t[a];void 0!==n&&n.appendChild(e)}}),R.set(this,{writable:!0,value:{center:!1,overflow:"hidden",position:"absolute",width:"50%",height:"50%",transformOrigin:"0% 100%"}}),Y.set(this,{writable:!0,value:{center:!1,position:"absolute",left:"-100%",borderRadius:"50%",width:"200%",height:"200%"}}),_.set(this,{writable:!0,value:function(e){for(var t=(e=e>360?0:360-e)/90+(e%90==0?0:1),r=0;r<t;r++){var n=0;0!=e?(e>=90?(n=90,e-=90):(n=e,e=0),i.sliceMeterBg[r]=document.createElement("li"),i.sliceMeterBgContents[r]=document.createElement("div"),p(i,A).call(i,i.sliceMeterBg[r],f(f({},p(i,R)),{},{top:0,right:0,transform:u([l(n/-2+180-45*r+e/2),s(-90+n)])}),"sliceMeterBg",i.pie),p(i,A).call(i,i.sliceMeterBgContents[r],f(f({},p(i,Y)),{},{background:p(i,w),transform:s(90-n)}),"sliceMeterBg-contents",i.sliceMeterBg[r])):(i.sliceMeterBg[r]="",i.sliceMeterBgContents[r]="")}}}),D.set(this,{writable:!0,value:function(e){var t=e/90+(e%90==0?0:1);e=e>360?0:360-e;for(var r=[{top:a(0),right:a(-1)},{top:a(1),right:a(0)},{top:a(0),right:a(1)},{top:a(-1),right:a(0)}],n=0;n<t;n++)i.sliceMeter[n]=document.createElement("li"),i.sliceMeterContents[n]=document.createElement("div"),p(i,A).call(i,i.sliceMeter[n],f(f({},p(i,R)),{},{transform:u([l(180+90*n+e/2),s(-90)])},r[n]),"sliceMeter",i.pie),p(i,A).call(i,i.sliceMeterContents[n],f(f({},p(i,Y)),{},{background:p(i,P),transform:s(90)}),"sliceMeter-contents",i.sliceMeter[n])}}),I.set(this,{writable:!0,value:function(e){h(i,L,!1),h(i,z,0),e.addEventListener("pointerdown",p(i,N),!1),window.addEventListener("pointermove",(function(t){p(i,U).call(i,t,e)}),!1),window.addEventListener("pointerup",p(i,X),!1)}}),L.set(this,{writable:!0,value:void 0}),z.set(this,{writable:!0,value:void 0}),N.set(this,{writable:!0,value:function(e){h(i,L,!0),h(i,z,e.clientY)}}),U.set(this,{writable:!0,value:function(e,t){if(p(i,L)){var r=function(e,t){var r=t+"(";return+e.replace(r,"").replace("deg)","")}(t.style.transform,"rotate")+3*(e.clientY-p(i,z)),n=p(i,F).call(i,r,-p(i,k)/2,p(i,k)/2);t.style.transform=l(n),h(i,z,e.clientY),p(i,q).call(i,n+p(i,k)/2),p(i,$).value=(p(i,j)-p(i,W))*(n+p(i,k)/2)/p(i,k)+p(i,W)}}}),X.set(this,{writable:!0,value:function(e){h(i,L,!1)}}),$.set(this,{writable:!0,value:(r=Object.create(null),n=0,Object.defineProperty(r,"value",{set:function(e){""!==p(i,E)&&(p(i,E).value=e),n=e},get:function(){return n}}),r)}),q.set(this,{writable:!0,value:function(e){for(var t=i.sliceMeter,r=i.sliceMeterContents,n=0;n<i.sliceMeter.length;n++){var a=0;e>=90?(a=90,e-=90):(a=e,e=0);var o=t[n].style.transform.split(" ");t[n].style.transform=u([o[0],s(-90+a)]),r[n].style.transform=s(90-a)}}}),F.set(this,{writable:!0,value:function(e,t,r){return e<t?e=t:e>r&&(e=r),e}}),h(this,m,(t=void 0===t?{}:t).size||100),h(this,b,t.target||document.getElementById("tsumami")),h(this,w,t.bgcolor||"red"),h(this,g,t.tmmcolor||"yellow"),h(this,y,t.mbgcolor||"black"),h(this,M,t.meterSize||10),h(this,k,t.degree||270),h(this,O,t.scale||1.2),h(this,W,t.min||0),h(this,j,t.max||100),h(this,E,t.obj||""),h(this,P,t.mcolor||"blue"),h(this,S,t.point||"purple"),h(this,x,t.value||p(this,W)),p(this,B).call(this),p(this,C).call(this)},m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,y=new WeakMap,M=new WeakMap,k=new WeakMap,O=new WeakMap,W=new WeakMap,j=new WeakMap,E=new WeakMap,P=new WeakMap,S=new WeakMap,x=new WeakMap,B=new WeakMap,C=new WeakMap,T=new WeakMap,A=new WeakMap,R=new WeakMap,Y=new WeakMap,_=new WeakMap,D=new WeakMap,I=new WeakMap,L=new WeakMap,z=new WeakMap,N=new WeakMap,U=new WeakMap,X=new WeakMap,$=new WeakMap,q=new WeakMap,F=new WeakMap;d(v,"testlog",(function(){console.log("testlog")}))}]).default}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Uc3VtYW1pL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Uc3VtYW1pL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1RzdW1hbWkvLi9zcmMvY3NzRnVuYy5qcyIsIndlYnBhY2s6Ly9Uc3VtYW1pLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX3B4IiwibnVtIiwiX2RlZyIsIl9yb3RhdGUiLCJNYXRoIiwiZmxvb3IiLCJfc2tld1kiLCJfd2hpbGVTcGFjZSIsIm9iaiIsInJldHVybk9iaiIsIlRzdW1hbWkiLCJzZXR0aW5ncyIsInZhbCIsIm1lbVZhbHVlIiwibWV0ZXJiZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBpZSIsIm1ldGVyYmdob2xlIiwibWV0ZXJiZ2hvbGVvdXQiLCJ0c3VtYW1pIiwicG9pbnQiLCJzbGljZU1ldGVyQmciLCJzbGljZU1ldGVyQmdDb250ZW50cyIsInNsaWNlTWV0ZXIiLCJzbGljZU1ldGVyQ29udGVudHMiLCJjZW50ZXIiLCJwb3NpdGlvbiIsIndpZHRoIiwiY3NzRnVuYyIsImhlaWdodCIsImJhY2tncm91bmQiLCJib3JkZXJSYWRpdXMiLCJvdmVyZmxvdyIsInBhZGRpbmciLCJtYXJnaW4iLCJsZWZ0IiwidG9wIiwiYm9yZGVyIiwidHJhbnNmb3JtIiwidXNlclNlbGVjdCIsImZpcnN0Um90YXRlIiwic3R5bGUiLCJyaWdodCIsImJvdHRvbSIsImVsZW1lbnQiLCJjbGFzc05hbWUiLCJ1bmRlZmluZWQiLCJ0YXJnZXQiLCJhc3NpZ24iLCJhcHBlbmRDaGlsZCIsInRyYW5zZm9ybU9yaWdpbiIsImRlZ3JlZSIsImRlZ3JlZVBpZWNlIiwidHIiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93IiwiZSIsImV2ZW50IiwiY2xpZW50WSIsInJvdGF0ZURlZ3JlZUFmdGVyIiwidE5hbWUiLCJyZXBsYWNlIiwiZGVnVmFsdWUiLCJzZXQiLCJzTSIsInNNQyIsImxlbmd0aCIsInJvdGF0ZURlZyIsInNtVHJhbnNmb3JtIiwic3BsaXQiLCJtaW4iLCJtYXgiLCJzaXplIiwiZ2V0RWxlbWVudEJ5SWQiLCJiZ2NvbG9yIiwidG1tY29sb3IiLCJtYmdjb2xvciIsIm1ldGVyU2l6ZSIsInNjYWxlIiwibWNvbG9yIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxHQUFJSCxHQUNlLGlCQUFaQyxRQUNkQSxRQUFpQixRQUFJRCxJQUVyQkQsRUFBYyxRQUFJQyxJQVJwQixDQVNHSyxNQUFNLFdBQ1QsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVQLFFBR25DLElBQUlDLEVBQVNJLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hULFFBQVMsSUFVVixPQU5BVSxFQUFRSCxHQUFVSSxLQUFLVixFQUFPRCxRQUFTQyxFQUFR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OEMsRSxXQTJWRixXQUNmdUUsUUFBUUMsSUFBSSxpQiIsImZpbGUiOiJ0c3VtYW1pLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jylcblx0XHRleHBvcnRzW1wiVHN1bWFtaVwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJUc3VtYW1pXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiLy8gY3Nz5Y2Y5L2N57O7XHJcbmV4cG9ydCBjb25zdCBfcHggPSAobnVtKSA9PiB7XHJcblx0cmV0dXJuIG51bSArIFwicHhcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IF9kZWcgPSAobnVtKSA9PiB7XHJcblx0cmV0dXJuIG51bSArIFwiZGVnXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBfcm90YXRlID0gKG51bSkgPT4ge1xyXG5cdHJldHVybiBcInJvdGF0ZShcIiArIF9kZWcoTWF0aC5mbG9vcihudW0pKSArIFwiKVwiO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgX3NrZXdZID0gKG51bSkgPT4ge1xyXG5cdHJldHVybiBcInNrZXdZKFwiICsgX2RlZyhNYXRoLmZsb29yKG51bSkpICsgXCIpXCI7XHJcbn1cclxuXHJcbi8vIGNzc+WPluW+ly/ku5jkuI7ns7tcclxuZXhwb3J0IGNvbnN0IF93aGlsZVNwYWNlID0gKG9iaikgPT4ge1xyXG5cdGxldCByZXR1cm5PYmogPSBcIlwiO1xyXG5cdGZvciAobGV0IHYgb2Ygb2JqKSB7XHJcblx0XHRyZXR1cm5PYmogKz0gdiArIFwiIFwiO1xyXG5cdH1cclxuXHRyZXR1cm4gcmV0dXJuT2JqO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgX3JldHVyblRyYW5zZm9ybVZhbHVlID0gKGVsZW1lbnQsIG5hbWUpID0+IHtcclxuXHRjb25zdCB0TmFtZSA9IG5hbWUgKyBcIihcIjtcclxuXHRyZXR1cm4gKyhlbGVtZW50LnJlcGxhY2UodE5hbWUsIFwiXCIpLnJlcGxhY2UoXCJkZWcpXCIsIFwiXCIpKTtcclxufSIsImltcG9ydCAqIGFzIGNzc0Z1bmMgZnJvbSBcIi4vY3NzRnVuY1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHN1bWFtaSB7XHJcbiAgI3NpemU7XHJcbiAgI3RhcmdldDtcclxuICAjYmdjb2xvcjtcclxuICAjdG1tY29sb3I7XHJcbiAgI21iZ2NvbG9yO1xyXG4gICNtZXRlclNpemU7XHJcbiAgI2RlZ3JlZTtcclxuICAjc2NhbGU7XHJcbiAgI21pbjtcclxuICAjbWF4O1xyXG4gICNvYmo7XHJcbiAgI21jb2xvcjtcclxuICAjcG9pbnQ7XHJcbiAgI3ZhbHVlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG4gICAgc2V0dGluZ3MgPSAoc2V0dGluZ3MgPT09IHVuZGVmaW5lZCkgPyB7fSA6IHNldHRpbmdzO1xyXG4gICAgdGhpcy4jc2l6ZSA9IHNldHRpbmdzLnNpemUgfHwgMTAwOyAvL+OCteOCpOOCulxyXG4gICAgdGhpcy4jdGFyZ2V0ID0gc2V0dGluZ3MudGFyZ2V0IHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHN1bWFtaVwiKTsgLy/jgr/jg7zjgrLjg4Pjg4hcclxuICAgIHRoaXMuI2JnY29sb3IgPSBzZXR0aW5ncy5iZ2NvbG9yIHx8IFwicmVkXCI7IC8v6IOM5pmv6ImyXHJcbiAgICB0aGlzLiN0bW1jb2xvciA9IHNldHRpbmdzLnRtbWNvbG9yIHx8IFwieWVsbG93XCI7IC8v44Gk44G+44G/6ImyXHJcbiAgICB0aGlzLiNtYmdjb2xvciA9IHNldHRpbmdzLm1iZ2NvbG9yIHx8IFwiYmxhY2tcIjsgLy/jg6Hjg7zjgr/jg7zog4zmma/oibJcclxuICAgIHRoaXMuI21ldGVyU2l6ZSA9IHNldHRpbmdzLm1ldGVyU2l6ZSB8fCAxMDsgLy/jg6Hjg7zjgr/jg7zluYVcclxuICAgIHRoaXMuI2RlZ3JlZSA9IHNldHRpbmdzLmRlZ3JlZSB8fCAyNzA7IC8v44Oh44O844K/44O86KGo56S65bmFXHJcbiAgICB0aGlzLiNzY2FsZSA9IHNldHRpbmdzLnNjYWxlIHx8IDEuMjsgLy/jg6Hjg7zjgr/jg7zjgrnjgrHjg7zjg6tcclxuICAgIHRoaXMuI21pbiA9IHNldHRpbmdzLm1pbiB8fCAwOyAvL+acgOWwj+WApFxyXG4gICAgdGhpcy4jbWF4ID0gc2V0dGluZ3MubWF4IHx8IDEwMDsgLy8g5pyA5aSn5YCkXHJcbiAgICB0aGlzLiNvYmogPSBzZXR0aW5ncy5vYmogfHwgXCJcIjsgLy/lgKTjgpLlj5bjgovlpInmlbBcclxuICAgIHRoaXMuI21jb2xvciA9IHNldHRpbmdzLm1jb2xvciB8fCBcImJsdWVcIjsgLy/jg6Hjg7zjgr/jg7zjga7oibJcclxuICAgIHRoaXMuI3BvaW50ID0gc2V0dGluZ3MucG9pbnQgfHwgXCJwdXJwbGVcIjsgLy/jg53jgqTjg7Pjg4jjga7oibJcclxuICAgIHRoaXMuI3ZhbHVlID0gc2V0dGluZ3MudmFsdWUgfHwgdGhpcy4jbWluOyAvL+WIneacn+WApFxyXG5cclxuICAgIHRoaXMuI2NyZWF0ZVRhZygpO1xyXG5cclxuICAgIHRoaXMuI21haW4oKTtcclxuICB9XHJcblxyXG4gICNjcmVhdGVUYWcgPSAoKSA9PiB7XHJcbiAgICB0aGlzLm1ldGVyYmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMucGllID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgIHRoaXMubWV0ZXJiZ2hvbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMubWV0ZXJiZ2hvbGVvdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMudHN1bWFtaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5wb2ludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5zbGljZU1ldGVyQmcgPSBbXTtcclxuICAgIHRoaXMuc2xpY2VNZXRlckJnQ29udGVudHMgPSBbXTtcclxuICAgIHRoaXMuc2xpY2VNZXRlciA9IFtdO1xyXG4gICAgdGhpcy5zbGljZU1ldGVyQ29udGVudHMgPSBbXTtcclxuICB9XHJcblxyXG4gICNtYWluID0gKCkgPT4ge1xyXG4gICAgLy8g5aSW5p6gXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy4jdGFyZ2V0LCB7XHJcbiAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgIHdpZHRoOiBjc3NGdW5jLl9weCh0aGlzLiNzaXplKSxcclxuICAgICAgaGVpZ2h0OiBjc3NGdW5jLl9weCh0aGlzLiNzaXplKSxcclxuICAgICAgYmFja2dyb3VuZDogdGhpcy4jYmdjb2xvclxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g44Oh44O844K/44O86IOM5pmvXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5tZXRlcmJnLCB7XHJcbiAgICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgICBiYWNrZ3JvdW5kOiB0aGlzLiNtYmdjb2xvcixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIHRoaXMuI3NjYWxlKSxcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlcmJnXCIsIHRoaXMuI3RhcmdldCk7XHJcblxyXG4gICAgLy8g44Oh44O844K/44KS6Zqg44GZIG9yIOODoeODvOOCv+ODvOmDqOOBruaeoFxyXG4gICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMucGllLCB7XHJcbiAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgIHBhZGRpbmc6IDAsXHJcbiAgICAgIG1hcmdpbjogMCxcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUpLFxyXG4gICAgICBoZWlnaHQ6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUpLFxyXG4gICAgICBsZWZ0OiBjc3NGdW5jLl9weCgodGhpcy4jc2l6ZSAtIHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSkgLyAoLTIpKSxcclxuICAgICAgdG9wOiBjc3NGdW5jLl9weCgodGhpcy4jc2l6ZSAtIHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSkgLyAoLTIpKSxcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlclwiLCB0aGlzLm1ldGVyYmcpO1xyXG5cclxuICAgIC8vIOODoeODvOOCv+OCkumaoOOBmeaJh+W9ouS9nOaIkFxyXG4gICAgdGhpcy4jY3JlYXRlc2xpY2VNZXRlckJnKHRoaXMuI2RlZ3JlZSk7XHJcblxyXG4gICAgLy8g44Oh44O844K/44O844KS6KGo56S644GZ44KL5omH5b2i5L2c5oiQ5L2c5oiQXHJcbiAgICB0aGlzLiNjcmVhdGVzbGljZU1ldGVyKHRoaXMuI2RlZ3JlZSk7XHJcblxyXG4gICAgLy8g5YaF5YaGXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5tZXRlcmJnaG9sZSwge1xyXG4gICAgICBjZW50ZXI6IHRydWUsXHJcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSAtIHRoaXMuI21ldGVyU2l6ZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIHRoaXMuI3NjYWxlIC0gdGhpcy4jbWV0ZXJTaXplKSxcclxuICAgICAgYmFja2dyb3VuZDogdGhpcy4jYmdjb2xvcixcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlcmhvbGVcIiwgdGhpcy5tZXRlcmJnKTtcclxuXHJcbiAgICAvLyDlpJblhoZcclxuICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLm1ldGVyYmdob2xlb3V0LCB7XHJcbiAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIHRoaXMuI3NjYWxlKSxcclxuICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDApXCIsXHJcbiAgICAgIGJvcmRlcjogY3NzRnVuYy5fd2hpbGVTcGFjZShbXCJzb2xpZFwiLCBjc3NGdW5jLl9weCgodGhpcy4jc2l6ZSAtIHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSkgLyAyKSwgdGhpcy4jYmdjb2xvcl0pLFxyXG4gICAgICBtYXJnaW46IDAsXHJcbiAgICAgIHRvcDogXCI1MCVcIixcclxuICAgICAgbGVmdDogXCI1MCVcIixcclxuICAgICAgdHJhbnNmb3JtOiBjc3NGdW5jLl93aGlsZVNwYWNlKFtcInRyYW5zbGF0ZVgoLTUwJSlcIiwgXCJ0cmFuc2xhdGVZKC01MCUpXCJdKSxcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlcmhvbGUtb3V0XCIsIHRoaXMubWV0ZXJiZyk7XHJcblxyXG4gICAgLy8g44Gk44G+44G/XHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy50c3VtYW1pLCB7XHJcbiAgICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXHJcbiAgICAgIHdpZHRoOiBjc3NGdW5jLl9weCh0aGlzLiNzaXplIC8gMiksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIDIpLFxyXG4gICAgICBiYWNrZ3JvdW5kOiB0aGlzLiN0bW1jb2xvcixcclxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgICB0cmFuc2Zvcm06IGNzc0Z1bmMuX3JvdGF0ZSh0aGlzLiNkZWdyZWUgLyAtMiksXHJcbiAgICB9LCBcInRzdW1hbWktaW5uZXJcIiwgdGhpcy4jdGFyZ2V0KTtcclxuXHJcbiAgICAvLyDph51cclxuICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnBvaW50LCB7XHJcbiAgICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgICAgd2lkdGg6IFwiMTAlXCIsXHJcbiAgICAgIGhlaWdodDogXCIyMCVcIixcclxuICAgICAgYmFja2dyb3VuZDogdGhpcy4jcG9pbnQsXHJcbiAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC0xMDAlKVwiLFxyXG4gICAgfSwgXCJ0c3VtYW1pLXBvaW50XCIsIHRoaXMudHN1bWFtaSk7XHJcblxyXG4gICAgLy/jgqTjg5njg7Pjg4jov73liqBcclxuICAgIHRoaXMuI2V2ZW50QWRkKHRoaXMudHN1bWFtaSk7XHJcblxyXG4gICAgLy8g5Yid5pyf5YCk44G+44Gn5Zue6LuiXHJcbiAgICBjb25zdCBmaXJzdFJvdGF0ZSA9IHRoaXMuI3ZhbHVlKnRoaXMuI2RlZ3JlZS8odGhpcy4jbWF4LXRoaXMuI21pbik7XHJcbiAgICB0aGlzLiNyb3RhdGVNZXRlcihmaXJzdFJvdGF0ZSk7XHJcbiAgICB0aGlzLnRzdW1hbWkuc3R5bGUudHJhbnNmb3JtID0gY3NzRnVuYy5fcm90YXRlKGZpcnN0Um90YXRlIC0gdGhpcy4jZGVncmVlLzIpO1xyXG4gICAgdGhpcy4jb3V0cHV0T2JqZWN0LnZhbHVlID0gdGhpcy4jdmFsdWU7XHJcbiAgfVxyXG5cclxuICAvL2NlbnRlclxyXG4gICNzdHlsZUNlbnRlciA9ICgpID0+IHtcclxuICAgIGNvbnN0IHN0eWxlID0ge1xyXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICB0b3A6IDAsXHJcbiAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICBib3R0b206IDAsXHJcbiAgICAgIGxlZnQ6IDAsXHJcbiAgICAgIG1hcmdpbjogXCJhdXRvXCIsXHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3R5bGU7XHJcbiAgfVxyXG5cclxuICAvLyBjc3Pku5jkuI5cclxuICAjYWRkU3R5bGVFbGVtZW50ID0gKGVsZW1lbnQsIHN0eWxlLCBjbGFzc05hbWUgPSB1bmRlZmluZWQsIHRhcmdldCA9IHVuZGVmaW5lZCkgPT4ge1xyXG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdm9pZCAwKSBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgIGlmIChzdHlsZS5jZW50ZXIpIHN0eWxlID0gT2JqZWN0LmFzc2lnbih0aGlzLiNzdHlsZUNlbnRlcigpLCBzdHlsZSk7XHJcbiAgICBkZWxldGUgc3R5bGUuY2VudGVyO1xyXG4gICAgZm9yIChsZXQga2V5IGluIHN0eWxlKSB7XHJcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHN0eWxlW2tleV07XHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0ICE9PSB2b2lkIDApIHRhcmdldC5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gICNtZXRlclN0eWxlID0ge1xyXG4gICAgY2VudGVyOiBmYWxzZSxcclxuICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIHdpZHRoOiBcIjUwJVwiLFxyXG4gICAgaGVpZ2h0OiBcIjUwJVwiLFxyXG4gICAgdHJhbnNmb3JtT3JpZ2luOiBcIjAlIDEwMCVcIixcclxuICB9XHJcblxyXG4gICNtZXRlckNvbnRlbnRTdHlsZSA9IHtcclxuICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgbGVmdDogXCItMTAwJVwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgd2lkdGg6IFwiMjAwJVwiLFxyXG4gICAgaGVpZ2h0OiBcIjIwMCVcIixcclxuICB9XHJcblxyXG4gIC8vIOODoeODvOOCv+OCkumaoOOBmeaJh+W9ouS9nOaIkFxyXG4gICNjcmVhdGVzbGljZU1ldGVyQmcgPSAoZGVncmVlKSA9PiB7XHJcbiAgICBkZWdyZWUgPSAoZGVncmVlID4gMzYwKSA/IDAgOiAzNjAgLSBkZWdyZWU7XHJcbiAgICBjb25zdCBiZiA9IChkZWdyZWUgJSA5MCA9PSAwKSA/IDAgOiAxO1xyXG4gICAgY29uc3QgbnVtID0gZGVncmVlIC8gOTAgKyBiZjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcclxuICAgICAgbGV0IGRlZ3JlZVBpZWNlID0gMDtcclxuICAgICAgaWYgKGRlZ3JlZSA9PSAwKSB7XHJcbiAgICAgICAgdGhpcy5zbGljZU1ldGVyQmdbaV0gPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuc2xpY2VNZXRlckJnQ29udGVudHNbaV0gPSBcIlwiO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9IGVsc2UgaWYgKGRlZ3JlZSA+PSA5MCkge1xyXG4gICAgICAgIGRlZ3JlZVBpZWNlID0gOTA7XHJcbiAgICAgICAgZGVncmVlIC09IDkwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlZ3JlZVBpZWNlID0gZGVncmVlO1xyXG4gICAgICAgIGRlZ3JlZSA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zbGljZU1ldGVyQmdbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgIHRoaXMuc2xpY2VNZXRlckJnQ29udGVudHNbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5zbGljZU1ldGVyQmdbaV0sIHtcclxuICAgICAgICAuLi50aGlzLiNtZXRlclN0eWxlLFxyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICByaWdodDogMCxcclxuICAgICAgICB0cmFuc2Zvcm06IGNzc0Z1bmMuX3doaWxlU3BhY2UoW2Nzc0Z1bmMuX3JvdGF0ZShkZWdyZWVQaWVjZSAvICgtMikgKyAxODAgLSBpICogNDUgKyBkZWdyZWUgLyAyKSwgY3NzRnVuYy5fc2tld1koLTkwICsgZGVncmVlUGllY2UpXSksXHJcbiAgICAgIH0sIFwic2xpY2VNZXRlckJnXCIsIHRoaXMucGllKTtcclxuXHJcbiAgICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnNsaWNlTWV0ZXJCZ0NvbnRlbnRzW2ldLCB7XHJcbiAgICAgICAgLi4udGhpcy4jbWV0ZXJDb250ZW50U3R5bGUsXHJcbiAgICAgICAgYmFja2dyb3VuZDogdGhpcy4jYmdjb2xvcixcclxuICAgICAgICB0cmFuc2Zvcm06IGNzc0Z1bmMuX3NrZXdZKDkwIC0gZGVncmVlUGllY2UpLFxyXG4gICAgICB9LCBcInNsaWNlTWV0ZXJCZy1jb250ZW50c1wiLCB0aGlzLnNsaWNlTWV0ZXJCZ1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDjg6Hjg7zjgr/jg7zkvZzmiJBcclxuICAjY3JlYXRlc2xpY2VNZXRlciA9IChkZWdyZWUpID0+IHtcclxuICAgIGNvbnN0IGJmID0gKGRlZ3JlZSAlIDkwID09IDApID8gMCA6IDE7XHJcbiAgICBjb25zdCBudW0gPSBkZWdyZWUgLyA5MCArIGJmO1xyXG4gICAgZGVncmVlID0gKGRlZ3JlZSA+IDM2MCkgPyAwIDogMzYwIC0gZGVncmVlO1xyXG4gICAgdmFyIHRyID0gW3tcclxuICAgICAgICB0b3A6IGNzc0Z1bmMuX3B4KDApLFxyXG4gICAgICAgIHJpZ2h0OiBjc3NGdW5jLl9weCgtMSlcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRvcDogY3NzRnVuYy5fcHgoMSksXHJcbiAgICAgICAgcmlnaHQ6IGNzc0Z1bmMuX3B4KDApXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0b3A6IGNzc0Z1bmMuX3B4KDApLFxyXG4gICAgICAgIHJpZ2h0OiBjc3NGdW5jLl9weCgxKVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdG9wOiBjc3NGdW5jLl9weCgtMSksXHJcbiAgICAgICAgcmlnaHQ6IGNzc0Z1bmMuX3B4KDApXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykge1xyXG4gICAgICB0aGlzLnNsaWNlTWV0ZXJbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgIHRoaXMuc2xpY2VNZXRlckNvbnRlbnRzW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMuc2xpY2VNZXRlcltpXSwge1xyXG4gICAgICAgIC4uLnRoaXMuI21ldGVyU3R5bGUsXHJcbiAgICAgICAgdHJhbnNmb3JtOiBjc3NGdW5jLl93aGlsZVNwYWNlKFtjc3NGdW5jLl9yb3RhdGUoMTgwICsgOTAgKiBpICsgZGVncmVlIC8gMiksIGNzc0Z1bmMuX3NrZXdZKC05MCldKSxcclxuICAgICAgICAuLi50cltpXVxyXG4gICAgICB9LCBcInNsaWNlTWV0ZXJcIiwgdGhpcy5waWUpO1xyXG5cclxuICAgICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMuc2xpY2VNZXRlckNvbnRlbnRzW2ldLCB7XHJcbiAgICAgICAgLi4udGhpcy4jbWV0ZXJDb250ZW50U3R5bGUsXHJcbiAgICAgICAgYmFja2dyb3VuZDogdGhpcy4jbWNvbG9yLFxyXG4gICAgICAgIHRyYW5zZm9ybTogY3NzRnVuYy5fc2tld1koOTApLFxyXG4gICAgICB9LCBcInNsaWNlTWV0ZXItY29udGVudHNcIiwgdGhpcy5zbGljZU1ldGVyW2ldKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOODnuOCpuOCueaTjeS9nFxyXG4gICNldmVudEFkZCA9IChlbGVtZW50KSA9PiB7XHJcbiAgICB0aGlzLiNjbGljayA9IGZhbHNlO1xyXG4gICAgdGhpcy4jbWVtb3J5WSA9IDA7XHJcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy4jT25Nb3VzZURvd24sIGZhbHNlKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIChlKSA9PiB7XHJcbiAgICAgIHRoaXMuI09uTW91c2VNb3ZlKGUsIGVsZW1lbnQpXHJcbiAgICB9LCBmYWxzZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy4jT25Nb3VzZVVwLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAjY2xpY2s7XHJcbiAgI21lbW9yeVk7XHJcbiAgI09uTW91c2VEb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICB0aGlzLiNjbGljayA9IHRydWU7XHJcbiAgICB0aGlzLiNtZW1vcnlZID0gZXZlbnQuY2xpZW50WTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiTW91c2VEb3duXCIpO1xyXG4gIH1cclxuXHJcbiAgI09uTW91c2VNb3ZlID0gKGV2ZW50LCBlbGVtZW50KSA9PiB7XHJcbiAgICBpZiAodGhpcy4jY2xpY2spIHtcclxuICAgICAgY29uc3Qgcm90YXRlRGVncmVlQmVmb3JlID0gY3NzRnVuYy5fcmV0dXJuVHJhbnNmb3JtVmFsdWUoZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0sIFwicm90YXRlXCIpO1xyXG4gICAgICBsZXQgcm90YXRlRGVncmVlQWZ0ZXIgPSByb3RhdGVEZWdyZWVCZWZvcmUgKyAoZXZlbnQuY2xpZW50WSAtIHRoaXMuI21lbW9yeVkpICogMztcclxuICAgICAgY29uc3QgZGVnVmFsdWUgPSB0aGlzLiNsaW1pdChyb3RhdGVEZWdyZWVBZnRlciwgLXRoaXMuI2RlZ3JlZSAvIDIsIHRoaXMuI2RlZ3JlZSAvIDIpO1xyXG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGNzc0Z1bmMuX3JvdGF0ZShkZWdWYWx1ZSk7XHJcbiAgICAgIHRoaXMuI21lbW9yeVkgPSBldmVudC5jbGllbnRZO1xyXG5cclxuICAgICAgdGhpcy4jcm90YXRlTWV0ZXIoZGVnVmFsdWUgKyB0aGlzLiNkZWdyZWUgLyAyKTtcclxuXHJcbiAgICAgIHRoaXMuI291dHB1dE9iamVjdC52YWx1ZSA9ICh0aGlzLiNtYXggLSB0aGlzLiNtaW4pICogKGRlZ1ZhbHVlICsgdGhpcy4jZGVncmVlIC8gMikgLyB0aGlzLiNkZWdyZWUgKyB0aGlzLiNtaW47XHJcblxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhcIk1vdXNlTW92ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICNPbk1vdXNlVXAgPSAoZXZlbnQpID0+IHtcclxuICAgIHRoaXMuI2NsaWNrID0gZmFsc2U7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIk1vdXNlVXBcIik7XHJcbiAgfVxyXG5cclxuICAvL+OCquODluOCuOOCp+OCr+ODiOOBq+WApOOCkuOCu+ODg+ODiFxyXG4gICNvdXRwdXRPYmplY3QgPSAoKCkgPT4ge1xyXG4gICAgdmFyIHZhbCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICB2YXIgbWVtVmFsdWUgPSAwO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbCwgJ3ZhbHVlJywge1xyXG4gICAgICBzZXQ6ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLiNvYmogIT09IFwiXCIpIHtcclxuICAgICAgICAgIHRoaXMuI29iai52YWx1ZSA9IHZhbHVlOyAvL+OCu+ODg+ODiFxyXG4gICAgICAgIH1cclxuICAgICAgICBtZW1WYWx1ZSA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXQ6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbWVtVmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZhbDtcclxuICB9KSgpO1xyXG5cclxuICAjcm90YXRlTWV0ZXIgPSAoZGVncmVlKSA9PiB7XHJcbiAgICBjb25zdCBzTSA9IHRoaXMuc2xpY2VNZXRlcjtcclxuICAgIGNvbnN0IHNNQyA9IHRoaXMuc2xpY2VNZXRlckNvbnRlbnRzO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNsaWNlTWV0ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIHJvdGF0ZURlZyA9IDA7XHJcbiAgICAgIGlmIChkZWdyZWUgPj0gOTApIHtcclxuICAgICAgICByb3RhdGVEZWcgPSA5MDtcclxuICAgICAgICBkZWdyZWUgLT0gOTA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcm90YXRlRGVnID0gZGVncmVlO1xyXG4gICAgICAgIGRlZ3JlZSA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgc21UcmFuc2Zvcm0gPSBzTVtpXS5zdHlsZS50cmFuc2Zvcm0uc3BsaXQoXCIgXCIpO1xyXG4gICAgICBzTVtpXS5zdHlsZS50cmFuc2Zvcm0gPSBjc3NGdW5jLl93aGlsZVNwYWNlKFtzbVRyYW5zZm9ybVswXSwgY3NzRnVuYy5fc2tld1koLTkwICsgcm90YXRlRGVnKV0pO1xyXG4gICAgICBzTUNbaV0uc3R5bGUudHJhbnNmb3JtID0gY3NzRnVuYy5fc2tld1koOTAgLSByb3RhdGVEZWcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g44Gd44Gu5LuW6Zai5pWwXHJcbiAgI2xpbWl0ID0gKHZhbHVlLCBtaW4sIG1heCkgPT4ge1xyXG4gICAgaWYgKHZhbHVlIDwgbWluKSB7XHJcbiAgICAgIHZhbHVlID0gbWluO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA+IG1heCkge1xyXG4gICAgICB2YWx1ZSA9IG1heDtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIC8vIOODhuOCueODiOODreOCsFxyXG4gIHN0YXRpYyB0ZXN0bG9nID0gKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJ0ZXN0bG9nXCIpO1xyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=