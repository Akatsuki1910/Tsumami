!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Tsumami=t():e.Tsumami=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,"default",(function(){return b}));var o=function(e){return e+"px"},a=function(e){return e+"deg"},l=function(e){return"rotate("+a(Math.floor(e))+")"},s=function(e){return"skewY("+a(Math.floor(e))+")"},u=function(e){var t,r="",i=n(e);try{for(i.s();!(t=i.n()).done;){r+=t.value+" "}}catch(e){i.e(e)}finally{i.f()}return r};function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function m(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var b=function e(t){var r,n,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),M.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),O.set(this,{writable:!0,value:void 0}),W.set(this,{writable:!0,value:void 0}),j.set(this,{writable:!0,value:void 0}),E.set(this,{writable:!0,value:void 0}),P.set(this,{writable:!0,value:void 0}),S.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:function(){i.meterbg=document.createElement("div"),i.pie=document.createElement("ul"),i.meterbghole=document.createElement("div"),i.meterbgholeout=document.createElement("div"),i.tsumami=document.createElement("div"),i.point=document.createElement("div"),i.sliceMeterBg=[],i.sliceMeterBgContents=[],i.sliceMeter=[],i.sliceMeterContents=[]}}),B.set(this,{writable:!0,value:function(){p(i,T).call(i,p(i,v),{center:!1,position:"relative",width:o(p(i,h)),height:o(p(i,h)),background:p(i,w)}),p(i,T).call(i,i.meterbg,{center:!0,borderRadius:"50%",background:p(i,M),width:o(p(i,h)/p(i,O)),height:o(p(i,h)/p(i,O))},"tsumami-meterbg",p(i,v)),p(i,T).call(i,i.pie,{center:!1,overflow:"hidden",borderRadius:"50%",position:"absolute",padding:0,margin:0,width:o(p(i,h)),height:o(p(i,h)),left:o((p(i,h)-p(i,h)/p(i,O))/-2),top:o((p(i,h)-p(i,h)/p(i,O))/-2)},"tsumami-meter",i.meterbg),p(i,Y).call(i,p(i,k)),p(i,_).call(i,p(i,k)),p(i,T).call(i,i.meterbghole,{center:!0,borderRadius:"50%",width:o(p(i,h)/p(i,O)-p(i,y)),height:o(p(i,h)/p(i,O)-p(i,y)),background:p(i,w)},"tsumami-meterhole",i.meterbg),p(i,T).call(i,i.meterbgholeout,{center:!1,position:"absolute",borderRadius:"50%",width:o(p(i,h)/p(i,O)),height:o(p(i,h)/p(i,O)),background:"rgba(0,0,0,0)",border:u(["solid",o((p(i,h)-p(i,h)/p(i,O))/2),p(i,w)]),margin:0,top:"50%",left:"50%",transform:u(["translateX(-50%)","translateY(-50%)"])},"tsumami-meterhole-out",i.meterbg),p(i,T).call(i,i.tsumami,{center:!0,userSelect:"none",width:o(p(i,h)/2),height:o(p(i,h)/2),background:p(i,g),borderRadius:"50%",transform:l(p(i,k)/-2)},"tsumami-inner",p(i,v)),p(i,T).call(i,i.point,{center:!0,width:"10%",height:"20%",background:p(i,S),transform:"translateY(-100%)"},"tsumami-point",i.tsumami),p(i,D).call(i,i.tsumami)}}),C.set(this,{writable:!0,value:function(){return{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto"}}}),T.set(this,{writable:!0,value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;for(var o in void 0!==r&&(e.className=r),t.center&&(t=Object.assign(p(i,C).call(i),t)),delete t.center,t)e.style[o]=t[o];void 0!==n&&n.appendChild(e)}}),A.set(this,{writable:!0,value:{center:!1,overflow:"hidden",position:"absolute",width:"50%",height:"50%",transformOrigin:"0% 100%"}}),R.set(this,{writable:!0,value:{center:!1,position:"absolute",left:"-100%",borderRadius:"50%",width:"200%",height:"200%"}}),Y.set(this,{writable:!0,value:function(e){for(var t=(e=e>360?0:360-e)/90+(e%90==0?0:1),r=0;r<t;r++){var n=0;0!=e?(e>=90?(n=90,e-=90):(n=e,e=0),i.sliceMeterBg[r]=document.createElement("li"),i.sliceMeterBgContents[r]=document.createElement("div"),p(i,T).call(i,i.sliceMeterBg[r],f(f({},p(i,A)),{},{top:0,right:0,transform:u([l(n/-2+180-45*r+e/2),s(-90+n)])}),"sliceMeterBg",i.pie),p(i,T).call(i,i.sliceMeterBgContents[r],f(f({},p(i,R)),{},{background:p(i,w),transform:s(90-n)}),"sliceMeterBg-contents",i.sliceMeterBg[r])):(i.sliceMeterBg[r]="",i.sliceMeterBgContents[r]="")}}}),_.set(this,{writable:!0,value:function(e){var t=e/90+(e%90==0?0:1);e=e>360?0:360-e;for(var r=[{top:o(0),right:o(-1)},{top:o(1),right:o(0)},{top:o(0),right:o(1)},{top:o(-1),right:o(0)}],n=0;n<t;n++)i.sliceMeter[n]=document.createElement("li"),i.sliceMeterContents[n]=document.createElement("div"),p(i,T).call(i,i.sliceMeter[n],f(f({},p(i,A)),{},{transform:u([l(180+90*n+e/2),s(-90)])},r[n]),"sliceMeter",i.pie),p(i,T).call(i,i.sliceMeterContents[n],f(f({},p(i,R)),{},{background:p(i,P),transform:s(90)}),"sliceMeter-contents",i.sliceMeter[n])}}),D.set(this,{writable:!0,value:function(e){m(i,I,!1),m(i,L,0),e.addEventListener("mousedown",p(i,z),!1),window.addEventListener("mousemove",(function(t){p(i,U).call(i,t,e)}),!1),window.addEventListener("mouseup",p(i,N),!1)}}),I.set(this,{writable:!0,value:void 0}),L.set(this,{writable:!0,value:void 0}),z.set(this,{writable:!0,value:function(e){m(i,I,!0),m(i,L,e.clientY),console.log("MouseDown")}}),U.set(this,{writable:!0,value:function(e,t){if(p(i,I)){var r=function(e,t){var r=t+"(";return+e.replace(r,"").replace("deg)","")}(t.style.transform,"rotate")+3*(e.clientY-p(i,L));r<-p(i,k)/2?r=-p(i,k)/2:r>p(i,k)/2&&(r=p(i,k)/2);var n=p(i,q).call(i,r,-p(i,k)/2,p(i,k)/2);t.style.transform=l(n),m(i,L,e.clientY),p(i,$).call(i,r+p(i,k)/2,i.sliceMeter,i.sliceMeterContents),p(i,X).value=(p(i,j)-p(i,W))*(r+p(i,k)/2)/p(i,k),console.log("MouseMove")}}}),N.set(this,{writable:!0,value:function(e){m(i,I,!1),console.log("MouseUp")}}),X.set(this,{writable:!0,value:(r=Object.create(null),n=0,Object.defineProperty(r,"value",{set:function(e){""!==p(i,E)&&(p(i,E).value=e),n=e},get:function(){return n}}),r)}),$.set(this,{writable:!0,value:function(e,t,r){for(var n=0;n<i.sliceMeter.length;n++){var o=0;e>=90?(o=90,e-=90):(o=e,e=0);var a=t[n].style.transform.split(" ");t[n].style.transform=u([a[0],s(-90+o)]),r[n].style.transform=s(90-o)}}}),q.set(this,{writable:!0,value:function(e,t,r){return e<t?e=t:e>r&&(e=r),e}}),m(this,h,(t=void 0===t?{}:t).size||100),m(this,v,t.target||document.getElementById("tsumami")),m(this,w,t.bgcolor||"red"),m(this,g,t.tmmcolor||"yellow"),m(this,M,t.mbgcolor||"black"),m(this,y,t.meterSize||10),m(this,k,t.degree||270),m(this,O,t.scale||1.2),m(this,W,t.min||0),m(this,j,t.max||100),m(this,E,t.obj||""),m(this,P,t.mcolor||"blue"),m(this,S,t.point||"purple"),p(this,x).call(this),p(this,B).call(this)},h=new WeakMap,v=new WeakMap,w=new WeakMap,g=new WeakMap,M=new WeakMap,y=new WeakMap,k=new WeakMap,O=new WeakMap,W=new WeakMap,j=new WeakMap,E=new WeakMap,P=new WeakMap,S=new WeakMap,x=new WeakMap,B=new WeakMap,C=new WeakMap,T=new WeakMap,A=new WeakMap,R=new WeakMap,Y=new WeakMap,_=new WeakMap,D=new WeakMap,I=new WeakMap,L=new WeakMap,z=new WeakMap,U=new WeakMap,N=new WeakMap,X=new WeakMap,$=new WeakMap,q=new WeakMap;d(b,"testlog",(function(){console.log("testlog")}))}]).default}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Uc3VtYW1pL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Uc3VtYW1pL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1RzdW1hbWkvLi9zcmMvY3NzRnVuYy5qcyIsIndlYnBhY2s6Ly9Uc3VtYW1pLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX3B4IiwibnVtIiwiX2RlZyIsIl9yb3RhdGUiLCJNYXRoIiwiZmxvb3IiLCJfc2tld1kiLCJfd2hpbGVTcGFjZSIsIm9iaiIsInJldHVybk9iaiIsIlRzdW1hbWkiLCJzZXR0aW5ncyIsInZhbCIsIm1lbVZhbHVlIiwibWV0ZXJiZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBpZSIsIm1ldGVyYmdob2xlIiwibWV0ZXJiZ2hvbGVvdXQiLCJ0c3VtYW1pIiwicG9pbnQiLCJzbGljZU1ldGVyQmciLCJzbGljZU1ldGVyQmdDb250ZW50cyIsInNsaWNlTWV0ZXIiLCJzbGljZU1ldGVyQ29udGVudHMiLCJjZW50ZXIiLCJwb3NpdGlvbiIsIndpZHRoIiwiY3NzRnVuYyIsImhlaWdodCIsImJhY2tncm91bmQiLCJib3JkZXJSYWRpdXMiLCJvdmVyZmxvdyIsInBhZGRpbmciLCJtYXJnaW4iLCJsZWZ0IiwidG9wIiwiYm9yZGVyIiwidHJhbnNmb3JtIiwidXNlclNlbGVjdCIsInJpZ2h0IiwiYm90dG9tIiwiZWxlbWVudCIsInN0eWxlIiwiY2xhc3NOYW1lIiwidW5kZWZpbmVkIiwidGFyZ2V0IiwiYXNzaWduIiwiYXBwZW5kQ2hpbGQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJkZWdyZWUiLCJkZWdyZWVQaWVjZSIsInRyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsImUiLCJldmVudCIsImNsaWVudFkiLCJjb25zb2xlIiwibG9nIiwicm90YXRlRGVncmVlQWZ0ZXIiLCJ0TmFtZSIsInJlcGxhY2UiLCJkZWdWYWx1ZSIsInNldCIsInNNIiwic01DIiwibGVuZ3RoIiwicm90YXRlRGVnIiwic21UcmFuc2Zvcm0iLCJzcGxpdCIsIm1pbiIsIm1heCIsInNpemUiLCJnZXRFbGVtZW50QnlJZCIsImJnY29sb3IiLCJ0bW1jb2xvciIsIm1iZ2NvbG9yIiwibWV0ZXJTaXplIiwic2NhbGUiLCJtY29sb3IiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsR0FDZSxpQkFBWkMsUUFDZEEsUUFBaUIsUUFBSUQsSUFFckJELEVBQWMsUUFBSUMsSUFScEIsQ0FTR0ssTUFBTSxXQUNULE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVUCxRQUduQyxJQUFJQyxFQUFTSSxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIVCxRQUFTLElBVVYsT0FOQVUsRUFBUUgsR0FBVUksS0FBS1YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU00s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TW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlRzdW1hbWlcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiVHN1bWFtaVwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8vIGNzc+WNmOS9jeezu1xyXG5leHBvcnQgY29uc3QgX3B4ID0gKG51bSkgPT4ge1xyXG5cdHJldHVybiBudW0gKyBcInB4XCI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBfZGVnID0gKG51bSkgPT4ge1xyXG5cdHJldHVybiBudW0gKyBcImRlZ1wiO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgX3JvdGF0ZSA9IChudW0pID0+IHtcclxuXHRyZXR1cm4gXCJyb3RhdGUoXCIgKyBfZGVnKE1hdGguZmxvb3IobnVtKSkgKyBcIilcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IF9za2V3WSA9IChudW0pID0+IHtcclxuXHRyZXR1cm4gXCJza2V3WShcIiArIF9kZWcoTWF0aC5mbG9vcihudW0pKSArIFwiKVwiO1xyXG59XHJcblxyXG4vLyBjc3Plj5blvpcv5LuY5LiO57O7XHJcbmV4cG9ydCBjb25zdCBfd2hpbGVTcGFjZSA9IChvYmopID0+IHtcclxuXHRsZXQgcmV0dXJuT2JqID0gXCJcIjtcclxuXHRmb3IgKGxldCB2IG9mIG9iaikge1xyXG5cdFx0cmV0dXJuT2JqICs9IHYgKyBcIiBcIjtcclxuXHR9XHJcblx0cmV0dXJuIHJldHVybk9iajtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IF9yZXR1cm5UcmFuc2Zvcm1WYWx1ZSA9IChlbGVtZW50LCBuYW1lKSA9PiB7XHJcblx0Y29uc3QgdE5hbWUgPSBuYW1lICsgXCIoXCI7XHJcblx0cmV0dXJuICsoZWxlbWVudC5yZXBsYWNlKHROYW1lLCBcIlwiKS5yZXBsYWNlKFwiZGVnKVwiLCBcIlwiKSk7XHJcbn0iLCJpbXBvcnQgKiBhcyBjc3NGdW5jIGZyb20gXCIuL2Nzc0Z1bmNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRzdW1hbWkge1xyXG4gICNzaXplO1xyXG4gICN0YXJnZXQ7XHJcbiAgI2JnY29sb3I7XHJcbiAgI3RtbWNvbG9yO1xyXG4gICNtYmdjb2xvcjtcclxuICAjbWV0ZXJTaXplO1xyXG4gICNkZWdyZWU7XHJcbiAgI3NjYWxlO1xyXG4gICNtaW47XHJcbiAgI21heDtcclxuICAjb2JqO1xyXG4gICNtY29sb3I7XHJcbiAgI3BvaW50O1xyXG5cclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG4gICAgc2V0dGluZ3MgPSAoc2V0dGluZ3MgPT09IHVuZGVmaW5lZCkgPyB7fSA6IHNldHRpbmdzO1xyXG4gICAgdGhpcy4jc2l6ZSA9IHNldHRpbmdzLnNpemUgfHwgMTAwOyAvL+OCteOCpOOCulxyXG4gICAgdGhpcy4jdGFyZ2V0ID0gc2V0dGluZ3MudGFyZ2V0IHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHN1bWFtaVwiKTsgLy/jgr/jg7zjgrLjg4Pjg4hcclxuICAgIHRoaXMuI2JnY29sb3IgPSBzZXR0aW5ncy5iZ2NvbG9yIHx8IFwicmVkXCI7IC8v6IOM5pmv6ImyXHJcbiAgICB0aGlzLiN0bW1jb2xvciA9IHNldHRpbmdzLnRtbWNvbG9yIHx8IFwieWVsbG93XCI7IC8v44Gk44G+44G/6ImyXHJcbiAgICB0aGlzLiNtYmdjb2xvciA9IHNldHRpbmdzLm1iZ2NvbG9yIHx8IFwiYmxhY2tcIjsgLy/jg6Hjg7zjgr/jg7zog4zmma/oibJcclxuICAgIHRoaXMuI21ldGVyU2l6ZSA9IHNldHRpbmdzLm1ldGVyU2l6ZSB8fCAxMDsgLy/jg6Hjg7zjgr/jg7zluYVcclxuICAgIHRoaXMuI2RlZ3JlZSA9IHNldHRpbmdzLmRlZ3JlZSB8fCAyNzA7IC8v44Oh44O844K/44O86KGo56S65bmFXHJcbiAgICB0aGlzLiNzY2FsZSA9IHNldHRpbmdzLnNjYWxlIHx8IDEuMjsgLy/jg6Hjg7zjgr/jg7zjgrnjgrHjg7zjg6tcclxuICAgIHRoaXMuI21pbiA9IHNldHRpbmdzLm1pbiB8fCAwOyAvL+acgOWwj+WApFxyXG4gICAgdGhpcy4jbWF4ID0gc2V0dGluZ3MubWF4IHx8IDEwMDsgLy8g5pyA5aSn5YCkXHJcbiAgICB0aGlzLiNvYmogPSBzZXR0aW5ncy5vYmogfHwgXCJcIjsgLy/lgKTjgpLlj5bjgovlpInmlbBcclxuICAgIHRoaXMuI21jb2xvciA9IHNldHRpbmdzLm1jb2xvciB8fCBcImJsdWVcIjsgLy/jg6Hjg7zjgr/jg7zjga7oibJcclxuICAgIHRoaXMuI3BvaW50ID0gc2V0dGluZ3MucG9pbnQgfHwgXCJwdXJwbGVcIjsgLy/jg53jgqTjg7Pjg4jjga7oibJcclxuXHJcbiAgICB0aGlzLiNjcmVhdGVUYWcoKTtcclxuXHJcbiAgICB0aGlzLiNtYWluKCk7XHJcbiAgfVxyXG5cclxuICAjY3JlYXRlVGFnID0gKCkgPT4ge1xyXG4gICAgdGhpcy5tZXRlcmJnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLnBpZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICB0aGlzLm1ldGVyYmdob2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLm1ldGVyYmdob2xlb3V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLnRzdW1hbWkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMucG9pbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuc2xpY2VNZXRlckJnID0gW107XHJcbiAgICB0aGlzLnNsaWNlTWV0ZXJCZ0NvbnRlbnRzID0gW107XHJcbiAgICB0aGlzLnNsaWNlTWV0ZXIgPSBbXTtcclxuICAgIHRoaXMuc2xpY2VNZXRlckNvbnRlbnRzID0gW107XHJcbiAgfVxyXG5cclxuICAjbWFpbiA9ICgpID0+IHtcclxuICAgIC8vIOWkluaeoFxyXG4gICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMuI3RhcmdldCwge1xyXG4gICAgICBjZW50ZXI6IGZhbHNlLFxyXG4gICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxyXG4gICAgICB3aWR0aDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSksXHJcbiAgICAgIGJhY2tncm91bmQ6IHRoaXMuI2JnY29sb3JcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIOODoeODvOOCv+ODvOiDjOaZr1xyXG4gICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMubWV0ZXJiZywge1xyXG4gICAgICBjZW50ZXI6IHRydWUsXHJcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgYmFja2dyb3VuZDogdGhpcy4jbWJnY29sb3IsXHJcbiAgICAgIHdpZHRoOiBjc3NGdW5jLl9weCh0aGlzLiNzaXplIC8gdGhpcy4jc2NhbGUpLFxyXG4gICAgICBoZWlnaHQ6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSksXHJcbiAgICB9LCBcInRzdW1hbWktbWV0ZXJiZ1wiLCB0aGlzLiN0YXJnZXQpO1xyXG5cclxuICAgIC8vIOODoeODvOOCv+OCkumaoOOBmSBvciDjg6Hjg7zjgr/jg7zpg6jjga7mnqBcclxuICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnBpZSwge1xyXG4gICAgICBjZW50ZXI6IGZhbHNlLFxyXG4gICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICBwYWRkaW5nOiAwLFxyXG4gICAgICBtYXJnaW46IDAsXHJcbiAgICAgIHdpZHRoOiBjc3NGdW5jLl9weCh0aGlzLiNzaXplKSxcclxuICAgICAgaGVpZ2h0OiBjc3NGdW5jLl9weCh0aGlzLiNzaXplKSxcclxuICAgICAgbGVmdDogY3NzRnVuYy5fcHgoKHRoaXMuI3NpemUgLSB0aGlzLiNzaXplIC8gdGhpcy4jc2NhbGUpIC8gKC0yKSksXHJcbiAgICAgIHRvcDogY3NzRnVuYy5fcHgoKHRoaXMuI3NpemUgLSB0aGlzLiNzaXplIC8gdGhpcy4jc2NhbGUpIC8gKC0yKSksXHJcbiAgICB9LCBcInRzdW1hbWktbWV0ZXJcIiwgdGhpcy5tZXRlcmJnKTtcclxuXHJcbiAgICAvLyDjg6Hjg7zjgr/jgpLpmqDjgZnmiYflvaLkvZzmiJBcclxuICAgIHRoaXMuI2NyZWF0ZXNsaWNlTWV0ZXJCZyh0aGlzLiNkZWdyZWUpO1xyXG5cclxuICAgIC8vIOODoeODvOOCv+ODvOOCkuihqOekuuOBmeOCi+aJh+W9ouS9nOaIkOS9nOaIkFxyXG4gICAgdGhpcy4jY3JlYXRlc2xpY2VNZXRlcih0aGlzLiNkZWdyZWUpO1xyXG5cclxuICAgIC8vIOWGheWGhlxyXG4gICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMubWV0ZXJiZ2hvbGUsIHtcclxuICAgICAgY2VudGVyOiB0cnVlLFxyXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICAgIHdpZHRoOiBjc3NGdW5jLl9weCh0aGlzLiNzaXplIC8gdGhpcy4jc2NhbGUgLSB0aGlzLiNtZXRlclNpemUpLFxyXG4gICAgICBoZWlnaHQ6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSAtIHRoaXMuI21ldGVyU2l6ZSksXHJcbiAgICAgIGJhY2tncm91bmQ6IHRoaXMuI2JnY29sb3IsXHJcbiAgICB9LCBcInRzdW1hbWktbWV0ZXJob2xlXCIsIHRoaXMubWV0ZXJiZyk7XHJcblxyXG4gICAgLy8g5aSW5YaGXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5tZXRlcmJnaG9sZW91dCwge1xyXG4gICAgICBjZW50ZXI6IGZhbHNlLFxyXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICAgIHdpZHRoOiBjc3NGdW5jLl9weCh0aGlzLiNzaXplIC8gdGhpcy4jc2NhbGUpLFxyXG4gICAgICBoZWlnaHQ6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSksXHJcbiAgICAgIGJhY2tncm91bmQ6IFwicmdiYSgwLDAsMCwwKVwiLFxyXG4gICAgICBib3JkZXI6IGNzc0Z1bmMuX3doaWxlU3BhY2UoW1wic29saWRcIiwgY3NzRnVuYy5fcHgoKHRoaXMuI3NpemUgLSB0aGlzLiNzaXplIC8gdGhpcy4jc2NhbGUpIC8gMiksIHRoaXMuI2JnY29sb3JdKSxcclxuICAgICAgbWFyZ2luOiAwLFxyXG4gICAgICB0b3A6IFwiNTAlXCIsXHJcbiAgICAgIGxlZnQ6IFwiNTAlXCIsXHJcbiAgICAgIHRyYW5zZm9ybTogY3NzRnVuYy5fd2hpbGVTcGFjZShbXCJ0cmFuc2xhdGVYKC01MCUpXCIsIFwidHJhbnNsYXRlWSgtNTAlKVwiXSksXHJcbiAgICB9LCBcInRzdW1hbWktbWV0ZXJob2xlLW91dFwiLCB0aGlzLm1ldGVyYmcpO1xyXG5cclxuICAgIC8vIOOBpOOBvuOBv1xyXG4gICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMudHN1bWFtaSwge1xyXG4gICAgICBjZW50ZXI6IHRydWUsXHJcbiAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxyXG4gICAgICB3aWR0aDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIDIpLFxyXG4gICAgICBoZWlnaHQ6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyAyKSxcclxuICAgICAgYmFja2dyb3VuZDogdGhpcy4jdG1tY29sb3IsXHJcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgdHJhbnNmb3JtOiBjc3NGdW5jLl9yb3RhdGUodGhpcy4jZGVncmVlIC8gLTIpLFxyXG4gICAgfSwgXCJ0c3VtYW1pLWlubmVyXCIsIHRoaXMuI3RhcmdldCk7XHJcblxyXG4gICAgLy8g6YedXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5wb2ludCwge1xyXG4gICAgICBjZW50ZXI6IHRydWUsXHJcbiAgICAgIHdpZHRoOiBcIjEwJVwiLFxyXG4gICAgICBoZWlnaHQ6IFwiMjAlXCIsXHJcbiAgICAgIGJhY2tncm91bmQ6IHRoaXMuI3BvaW50LFxyXG4gICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgtMTAwJSlcIixcclxuICAgIH0sIFwidHN1bWFtaS1wb2ludFwiLCB0aGlzLnRzdW1hbWkpO1xyXG5cclxuICAgIC8v44Kk44OZ44Oz44OI6L+95YqgXHJcbiAgICB0aGlzLiNldmVudEFkZCh0aGlzLnRzdW1hbWkpO1xyXG4gIH1cclxuXHJcbiAgLy9jZW50ZXJcclxuICAjc3R5bGVDZW50ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBzdHlsZSA9IHtcclxuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgdG9wOiAwLFxyXG4gICAgICByaWdodDogMCxcclxuICAgICAgYm90dG9tOiAwLFxyXG4gICAgICBsZWZ0OiAwLFxyXG4gICAgICBtYXJnaW46IFwiYXV0b1wiLFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0eWxlO1xyXG4gIH1cclxuXHJcbiAgLy8gY3Nz5LuY5LiOXHJcbiAgI2FkZFN0eWxlRWxlbWVudCA9IChlbGVtZW50LCBzdHlsZSwgY2xhc3NOYW1lID0gdW5kZWZpbmVkLCB0YXJnZXQgPSB1bmRlZmluZWQpID0+IHtcclxuICAgIGlmIChjbGFzc05hbWUgIT09IHZvaWQgMCkgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XHJcbiAgICBpZiAoc3R5bGUuY2VudGVyKSBzdHlsZSA9IE9iamVjdC5hc3NpZ24odGhpcy4jc3R5bGVDZW50ZXIoKSwgc3R5bGUpO1xyXG4gICAgZGVsZXRlIHN0eWxlLmNlbnRlcjtcclxuICAgIGZvciAobGV0IGtleSBpbiBzdHlsZSkge1xyXG4gICAgICBlbGVtZW50LnN0eWxlW2tleV0gPSBzdHlsZVtrZXldO1xyXG4gICAgfVxyXG4gICAgaWYgKHRhcmdldCAhPT0gdm9pZCAwKSB0YXJnZXQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICAjbWV0ZXJTdHlsZSA9IHtcclxuICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICB3aWR0aDogXCI1MCVcIixcclxuICAgIGhlaWdodDogXCI1MCVcIixcclxuICAgIHRyYW5zZm9ybU9yaWdpbjogXCIwJSAxMDAlXCIsXHJcbiAgfVxyXG5cclxuICAjbWV0ZXJDb250ZW50U3R5bGUgPSB7XHJcbiAgICBjZW50ZXI6IGZhbHNlLFxyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIGxlZnQ6IFwiLTEwMCVcIixcclxuICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgIHdpZHRoOiBcIjIwMCVcIixcclxuICAgIGhlaWdodDogXCIyMDAlXCIsXHJcbiAgfVxyXG5cclxuICAvLyDjg6Hjg7zjgr/jgpLpmqDjgZnmiYflvaLkvZzmiJBcclxuICAjY3JlYXRlc2xpY2VNZXRlckJnID0gKGRlZ3JlZSkgPT4ge1xyXG4gICAgZGVncmVlID0gKGRlZ3JlZSA+IDM2MCkgPyAwIDogMzYwIC0gZGVncmVlO1xyXG4gICAgY29uc3QgYmYgPSAoZGVncmVlICUgOTAgPT0gMCkgPyAwIDogMTtcclxuICAgIGNvbnN0IG51bSA9IGRlZ3JlZSAvIDkwICsgYmY7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bTsgaSsrKSB7XHJcbiAgICAgIGxldCBkZWdyZWVQaWVjZSA9IDA7XHJcbiAgICAgIGlmIChkZWdyZWUgPT0gMCkge1xyXG4gICAgICAgIHRoaXMuc2xpY2VNZXRlckJnW2ldID0gXCJcIjtcclxuICAgICAgICB0aGlzLnNsaWNlTWV0ZXJCZ0NvbnRlbnRzW2ldID0gXCJcIjtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfSBlbHNlIGlmIChkZWdyZWUgPj0gOTApIHtcclxuICAgICAgICBkZWdyZWVQaWVjZSA9IDkwO1xyXG4gICAgICAgIGRlZ3JlZSAtPSA5MDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkZWdyZWVQaWVjZSA9IGRlZ3JlZTtcclxuICAgICAgICBkZWdyZWUgPSAwO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuc2xpY2VNZXRlckJnW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgICB0aGlzLnNsaWNlTWV0ZXJCZ0NvbnRlbnRzW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMuc2xpY2VNZXRlckJnW2ldLCB7XHJcbiAgICAgICAgLi4udGhpcy4jbWV0ZXJTdHlsZSxcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDAsXHJcbiAgICAgICAgdHJhbnNmb3JtOiBjc3NGdW5jLl93aGlsZVNwYWNlKFtjc3NGdW5jLl9yb3RhdGUoZGVncmVlUGllY2UgLyAoLTIpICsgMTgwIC0gaSAqIDQ1ICsgZGVncmVlIC8gMiksIGNzc0Z1bmMuX3NrZXdZKC05MCArIGRlZ3JlZVBpZWNlKV0pLFxyXG4gICAgICB9LCBcInNsaWNlTWV0ZXJCZ1wiLCB0aGlzLnBpZSk7XHJcblxyXG4gICAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5zbGljZU1ldGVyQmdDb250ZW50c1tpXSwge1xyXG4gICAgICAgIC4uLnRoaXMuI21ldGVyQ29udGVudFN0eWxlLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IHRoaXMuI2JnY29sb3IsXHJcbiAgICAgICAgdHJhbnNmb3JtOiBjc3NGdW5jLl9za2V3WSg5MCAtIGRlZ3JlZVBpZWNlKSxcclxuICAgICAgfSwgXCJzbGljZU1ldGVyQmctY29udGVudHNcIiwgdGhpcy5zbGljZU1ldGVyQmdbaV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g44Oh44O844K/44O85L2c5oiQXHJcbiAgI2NyZWF0ZXNsaWNlTWV0ZXIgPSAoZGVncmVlKSA9PiB7XHJcbiAgICBjb25zdCBiZiA9IChkZWdyZWUgJSA5MCA9PSAwKSA/IDAgOiAxO1xyXG4gICAgY29uc3QgbnVtID0gZGVncmVlIC8gOTAgKyBiZjtcclxuICAgIGRlZ3JlZSA9IChkZWdyZWUgPiAzNjApID8gMCA6IDM2MCAtIGRlZ3JlZTtcclxuICAgIHZhciB0ciA9IFt7XHJcbiAgICAgICAgdG9wOiBjc3NGdW5jLl9weCgwKSxcclxuICAgICAgICByaWdodDogY3NzRnVuYy5fcHgoLTEpXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0b3A6IGNzc0Z1bmMuX3B4KDEpLFxyXG4gICAgICAgIHJpZ2h0OiBjc3NGdW5jLl9weCgwKVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdG9wOiBjc3NGdW5jLl9weCgwKSxcclxuICAgICAgICByaWdodDogY3NzRnVuYy5fcHgoMSlcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRvcDogY3NzRnVuYy5fcHgoLTEpLFxyXG4gICAgICAgIHJpZ2h0OiBjc3NGdW5jLl9weCgwKVxyXG4gICAgICB9LFxyXG4gICAgXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcclxuICAgICAgdGhpcy5zbGljZU1ldGVyW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgICB0aGlzLnNsaWNlTWV0ZXJDb250ZW50c1tpXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnNsaWNlTWV0ZXJbaV0sIHtcclxuICAgICAgICAuLi50aGlzLiNtZXRlclN0eWxlLFxyXG4gICAgICAgIHRyYW5zZm9ybTogY3NzRnVuYy5fd2hpbGVTcGFjZShbY3NzRnVuYy5fcm90YXRlKDE4MCArIDkwICogaSArIGRlZ3JlZSAvIDIpLCBjc3NGdW5jLl9za2V3WSgtOTApXSksXHJcbiAgICAgICAgLi4udHJbaV1cclxuICAgICAgfSwgXCJzbGljZU1ldGVyXCIsIHRoaXMucGllKTtcclxuXHJcbiAgICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnNsaWNlTWV0ZXJDb250ZW50c1tpXSwge1xyXG4gICAgICAgIC4uLnRoaXMuI21ldGVyQ29udGVudFN0eWxlLFxyXG4gICAgICAgIGJhY2tncm91bmQ6IHRoaXMuI21jb2xvcixcclxuICAgICAgICB0cmFuc2Zvcm06IGNzc0Z1bmMuX3NrZXdZKDkwKSxcclxuICAgICAgfSwgXCJzbGljZU1ldGVyLWNvbnRlbnRzXCIsIHRoaXMuc2xpY2VNZXRlcltpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDjg57jgqbjgrnmk43kvZxcclxuICAjZXZlbnRBZGQgPSAoZWxlbWVudCkgPT4ge1xyXG4gICAgdGhpcy4jY2xpY2sgPSBmYWxzZTtcclxuICAgIHRoaXMuI21lbW9yeVkgPSAwO1xyXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLiNPbk1vdXNlRG93biwgZmFsc2UpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XHJcbiAgICAgIHRoaXMuI09uTW91c2VNb3ZlKGUsIGVsZW1lbnQpXHJcbiAgICB9LCBmYWxzZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuI09uTW91c2VVcCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgI2NsaWNrO1xyXG4gICNtZW1vcnlZO1xyXG4gICNPbk1vdXNlRG93biA9IChldmVudCkgPT4ge1xyXG4gICAgdGhpcy4jY2xpY2sgPSB0cnVlO1xyXG4gICAgdGhpcy4jbWVtb3J5WSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICBjb25zb2xlLmxvZyhcIk1vdXNlRG93blwiKTtcclxuICB9XHJcblxyXG4gICNPbk1vdXNlTW92ZSA9IChldmVudCwgZWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuI2NsaWNrKSB7XHJcbiAgICAgIGNvbnN0IHJvdGF0ZURlZ3JlZUJlZm9yZSA9IGNzc0Z1bmMuX3JldHVyblRyYW5zZm9ybVZhbHVlKGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtLCBcInJvdGF0ZVwiKTtcclxuICAgICAgbGV0IHJvdGF0ZURlZ3JlZUFmdGVyID0gcm90YXRlRGVncmVlQmVmb3JlICsgKGV2ZW50LmNsaWVudFkgLSB0aGlzLiNtZW1vcnlZKSAqIDM7XHJcbiAgICAgIGlmIChyb3RhdGVEZWdyZWVBZnRlciA8IC10aGlzLiNkZWdyZWUgLyAyKSB7XHJcbiAgICAgICAgcm90YXRlRGVncmVlQWZ0ZXIgPSAtdGhpcy4jZGVncmVlIC8gMjtcclxuICAgICAgfSBlbHNlIGlmIChyb3RhdGVEZWdyZWVBZnRlciA+IHRoaXMuI2RlZ3JlZSAvIDIpIHtcclxuICAgICAgICByb3RhdGVEZWdyZWVBZnRlciA9IHRoaXMuI2RlZ3JlZSAvIDI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRlZ1ZhbHVlID0gdGhpcy4jbGltaXQocm90YXRlRGVncmVlQWZ0ZXIsIC10aGlzLiNkZWdyZWUgLyAyLCB0aGlzLiNkZWdyZWUgLyAyKTtcclxuICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBjc3NGdW5jLl9yb3RhdGUoZGVnVmFsdWUpO1xyXG4gICAgICB0aGlzLiNtZW1vcnlZID0gZXZlbnQuY2xpZW50WTtcclxuXHJcbiAgICAgIHRoaXMuI3JvdGF0ZU1ldGVyKHJvdGF0ZURlZ3JlZUFmdGVyICsgdGhpcy4jZGVncmVlIC8gMiwgdGhpcy5zbGljZU1ldGVyLCB0aGlzLnNsaWNlTWV0ZXJDb250ZW50cyk7XHJcblxyXG4gICAgICB0aGlzLiNvdXRwdXRPYmplY3QudmFsdWUgPSAodGhpcy4jbWF4IC0gdGhpcy4jbWluKSAqIChyb3RhdGVEZWdyZWVBZnRlciArIHRoaXMuI2RlZ3JlZSAvIDIpIC8gdGhpcy4jZGVncmVlO1xyXG5cclxuICAgICAgY29uc29sZS5sb2coXCJNb3VzZU1vdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAjT25Nb3VzZVVwID0gKGV2ZW50KSA9PiB7XHJcbiAgICB0aGlzLiNjbGljayA9IGZhbHNlO1xyXG4gICAgY29uc29sZS5sb2coXCJNb3VzZVVwXCIpO1xyXG4gIH1cclxuXHJcbiAgLy/jgqrjg5bjgrjjgqfjgq/jg4jjgavlgKTjgpLjgrvjg4Pjg4hcclxuICAjb3V0cHV0T2JqZWN0ID0gKCgpID0+IHtcclxuICAgIHZhciB2YWwgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgdmFyIG1lbVZhbHVlID0gMDtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YWwsICd2YWx1ZScsIHtcclxuICAgICAgc2V0OiAodmFsdWUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy4jb2JqICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICB0aGlzLiNvYmoudmFsdWUgPSB2YWx1ZTsgLy/jgrvjg4Pjg4hcclxuICAgICAgICB9XHJcbiAgICAgICAgbWVtVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0OiAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG1lbVZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWw7XHJcbiAgfSkoKTtcclxuXHJcbiAgI3JvdGF0ZU1ldGVyID0gKGRlZ3JlZSwgc00sIHNNQykgPT4ge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNsaWNlTWV0ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIHJvdGF0ZURlZyA9IDA7XHJcbiAgICAgIGlmIChkZWdyZWUgPj0gOTApIHtcclxuICAgICAgICByb3RhdGVEZWcgPSA5MDtcclxuICAgICAgICBkZWdyZWUgLT0gOTA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcm90YXRlRGVnID0gZGVncmVlO1xyXG4gICAgICAgIGRlZ3JlZSA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgc21UcmFuc2Zvcm0gPSBzTVtpXS5zdHlsZS50cmFuc2Zvcm0uc3BsaXQoXCIgXCIpO1xyXG4gICAgICBzTVtpXS5zdHlsZS50cmFuc2Zvcm0gPSBjc3NGdW5jLl93aGlsZVNwYWNlKFtzbVRyYW5zZm9ybVswXSwgY3NzRnVuYy5fc2tld1koLTkwICsgcm90YXRlRGVnKV0pO1xyXG4gICAgICBzTUNbaV0uc3R5bGUudHJhbnNmb3JtID0gY3NzRnVuYy5fc2tld1koOTAgLSByb3RhdGVEZWcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g44Gd44Gu5LuW6Zai5pWwXHJcbiAgI2xpbWl0ID0gKHZhbHVlLCBtaW4sIG1heCkgPT4ge1xyXG4gICAgaWYgKHZhbHVlIDwgbWluKSB7XHJcbiAgICAgIHZhbHVlID0gbWluO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA+IG1heCkge1xyXG4gICAgICB2YWx1ZSA9IG1heDtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIC8vIOODhuOCueODiOODreOCsFxyXG4gIHN0YXRpYyB0ZXN0bG9nID0gKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJ0ZXN0bG9nXCIpO1xyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=