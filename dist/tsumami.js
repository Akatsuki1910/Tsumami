!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Tsumami=t():e.Tsumami=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/index.js")}({"./src/cssFunc.js":
/*!************************!*\
  !*** ./src/cssFunc.js ***!
  \************************/
/*! exports provided: _px, _deg, _rotate, _skewY, _whileSpace, _returnTransformValue */function(e,t,r){"use strict";function n(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,"_px",(function(){return a})),r.d(t,"_deg",(function(){return o})),r.d(t,"_rotate",(function(){return l})),r.d(t,"_skewY",(function(){return s})),r.d(t,"_whileSpace",(function(){return u})),r.d(t,"_returnTransformValue",(function(){return c}));var a=function(e){return e+"px"},o=function(e){return e+"deg"},l=function(e){return"rotate("+o(Math.floor(e))+")"},s=function(e){return"skewY("+o(Math.floor(e))+")"},u=function(e){var t,r="",i=n(e);try{for(i.s();!(t=i.n()).done;){r+=t.value+" "}}catch(e){i.e(e)}finally{i.f()}return r},c=function(e,t){var r=t+"(";return+e.replace(r,"").replace("deg)","")}},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return u}));var n=r(/*! ./cssFunc */"./src/cssFunc.js");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function s(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var u=function e(t){var r,i,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),M.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),_.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:function(){o.meterbg=document.createElement("div"),o.pie=document.createElement("ul"),o.meterbghole=document.createElement("div"),o.meterbgholeout=document.createElement("div"),o.tsumami=document.createElement("div"),o.point=document.createElement("div"),o.sliceMeterBg=[],o.sliceMeterBgContents=[],o.sliceMeter=[],o.sliceMeterContents=[]}}),j.set(this,{writable:!0,value:function(){l(o,W).call(o,l(o,p),{center:!1,position:"relative",width:n._px(l(o,c)),height:n._px(l(o,c)),background:l(o,f)}),l(o,W).call(o,o.meterbg,{center:!0,borderRadius:"50%",background:l(o,h),width:n._px(l(o,c)/l(o,b)),height:n._px(l(o,c)/l(o,b))},"tsumami-meterbg",l(o,p)),l(o,W).call(o,o.pie,{center:!1,overflow:"hidden",borderRadius:"50%",position:"absolute",padding:0,margin:0,width:n._px(l(o,c)),height:n._px(l(o,c)),left:n._px((l(o,c)-l(o,c)/l(o,b))/-2),top:n._px((l(o,c)-l(o,c)/l(o,b))/-2)},"tsumami-meter",o.meterbg),l(o,P).call(o,l(o,m)),l(o,Y).call(o,l(o,m)),l(o,W).call(o,o.meterbghole,{center:!0,borderRadius:"50%",width:n._px(l(o,c)/l(o,b)-l(o,v)),height:n._px(l(o,c)/l(o,b)-l(o,v)),background:l(o,f)},"tsumami-meterhole",o.meterbg),l(o,W).call(o,o.meterbgholeout,{center:!1,position:"absolute",borderRadius:"50%",width:n._px(l(o,c)/l(o,b)),height:n._px(l(o,c)/l(o,b)),background:"rgba(0,0,0,0)",border:n._whileSpace(["solid",n._px((l(o,c)-l(o,c)/l(o,b))/2),l(o,f)]),margin:0,top:"50%",left:"50%",transform:n._whileSpace(["translateX(-50%)","translateY(-50%)"])},"tsumami-meterhole-out",o.meterbg),l(o,W).call(o,o.tsumami,{center:!0,userSelect:"none",width:n._px(l(o,c)/2),height:n._px(l(o,c)/2),background:l(o,d),borderRadius:"50%",transform:n._rotate(l(o,m)/-2)},"tsumami-inner",l(o,p)),l(o,W).call(o,o.point,{center:!0,width:"10%",height:"20%",background:l(o,_),transform:"translateY(-100%)"},"tsumami-point",o.tsumami),l(o,B).call(o,o.tsumami);var e=l(o,k)*l(o,m)/(l(o,g)-l(o,w));l(o,L).call(o,e),o.tsumami.style.transform=n._rotate(e-l(o,m)/2),l(o,I).value=l(o,k)}}),O.set(this,{writable:!0,value:function(){return{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto"}}}),W.set(this,{writable:!0,value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;for(var i in void 0!==r&&(e.className=r),t.center&&(t=Object.assign(l(o,O).call(o),t)),delete t.center,t)e.style[i]=t[i];void 0!==n&&n.appendChild(e)}}),E.set(this,{writable:!0,value:{center:!1,overflow:"hidden",position:"absolute",width:"50%",height:"50%",transformOrigin:"0% 100%"}}),S.set(this,{writable:!0,value:{center:!1,position:"absolute",left:"-100%",borderRadius:"50%",width:"200%",height:"200%"}}),P.set(this,{writable:!0,value:function(e){for(var t=(e=e>360?0:360-e)/90+(e%90==0?0:1),r=0;r<t;r++){var i=0;0!=e?(e>=90?(i=90,e-=90):(i=e,e=0),o.sliceMeterBg[r]=document.createElement("li"),o.sliceMeterBgContents[r]=document.createElement("div"),l(o,W).call(o,o.sliceMeterBg[r],a(a({},l(o,E)),{},{top:0,right:0,transform:n._whileSpace([n._rotate(i/-2+180-45*r+e/2),n._skewY(-90+i)])}),"sliceMeterBg",o.pie),l(o,W).call(o,o.sliceMeterBgContents[r],a(a({},l(o,S)),{},{background:l(o,f),transform:n._skewY(90-i)}),"sliceMeterBg-contents",o.sliceMeterBg[r])):(o.sliceMeterBg[r]="",o.sliceMeterBgContents[r]="")}}}),Y.set(this,{writable:!0,value:function(e){var t=e/90+(e%90==0?0:1);e=e>360?0:360-e;for(var r=[{top:n._px(0),right:n._px(-1)},{top:n._px(1),right:n._px(0)},{top:n._px(0),right:n._px(1)},{top:n._px(-1),right:n._px(0)}],i=0;i<t;i++)o.sliceMeter[i]=document.createElement("li"),o.sliceMeterContents[i]=document.createElement("div"),l(o,W).call(o,o.sliceMeter[i],a(a({},l(o,E)),{},{transform:n._whileSpace([n._rotate(180+90*i+e/2),n._skewY(-90)])},r[i]),"sliceMeter",o.pie),l(o,W).call(o,o.sliceMeterContents[i],a(a({},l(o,S)),{},{background:l(o,y),transform:n._skewY(90)}),"sliceMeter-contents",o.sliceMeter[i])}}),B.set(this,{writable:!0,value:function(e){s(o,C,!1),s(o,T,0),e.addEventListener("pointerdown",l(o,A),!1),window.addEventListener("pointermove",(function(t){l(o,R).call(o,t,e)}),!1),window.addEventListener("pointerup",l(o,D),!1)}}),C.set(this,{writable:!0,value:void 0}),T.set(this,{writable:!0,value:void 0}),A.set(this,{writable:!0,value:function(e){s(o,C,!0),s(o,T,e.clientY),console.log("MouseDown")}}),R.set(this,{writable:!0,value:function(e,t){if(l(o,C)){var r=n._returnTransformValue(t.style.transform,"rotate")+3*(e.clientY-l(o,T)),i=l(o,z).call(o,r,-l(o,m)/2,l(o,m)/2);t.style.transform=n._rotate(i),s(o,T,e.clientY),l(o,L).call(o,i+l(o,m)/2),l(o,I).value=(l(o,g)-l(o,w))*(i+l(o,m)/2)/l(o,m)+l(o,w),console.log("MouseMove")}}}),D.set(this,{writable:!0,value:function(e){s(o,C,!1),console.log("MouseUp")}}),I.set(this,{writable:!0,value:(r=Object.create(null),i=0,Object.defineProperty(r,"value",{set:function(e){""!==l(o,M)&&(l(o,M).value=e),i=e},get:function(){return i}}),r)}),L.set(this,{writable:!0,value:function(e){for(var t=o.sliceMeter,r=o.sliceMeterContents,i=0;i<o.sliceMeter.length;i++){var a=0;e>=90?(a=90,e-=90):(a=e,e=0);var l=t[i].style.transform.split(" ");t[i].style.transform=n._whileSpace([l[0],n._skewY(-90+a)]),r[i].style.transform=n._skewY(90-a)}}}),z.set(this,{writable:!0,value:function(e,t,r){return e<t?e=t:e>r&&(e=r),e}}),s(this,c,(t=void 0===t?{}:t).size||100),s(this,p,t.target||document.getElementById("tsumami")),s(this,f,t.bgcolor||"red"),s(this,d,t.tmmcolor||"yellow"),s(this,h,t.mbgcolor||"black"),s(this,v,t.meterSize||10),s(this,m,t.degree||270),s(this,b,t.scale||1.2),s(this,w,t.min||0),s(this,g,t.max||100),s(this,M,t.obj||""),s(this,y,t.mcolor||"blue"),s(this,_,t.point||"purple"),s(this,k,t.value||l(this,w)),l(this,x).call(this),l(this,j).call(this)},c=new WeakMap,p=new WeakMap,f=new WeakMap,d=new WeakMap,h=new WeakMap,v=new WeakMap,m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,M=new WeakMap,y=new WeakMap,_=new WeakMap,k=new WeakMap,x=new WeakMap,j=new WeakMap,O=new WeakMap,W=new WeakMap,E=new WeakMap,S=new WeakMap,P=new WeakMap,Y=new WeakMap,B=new WeakMap,C=new WeakMap,T=new WeakMap,A=new WeakMap,R=new WeakMap,D=new WeakMap,I=new WeakMap,L=new WeakMap,z=new WeakMap;o(u,"testlog",(function(){console.log("testlog")}))}}).default}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Uc3VtYW1pL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Uc3VtYW1pL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1RzdW1hbWkvLi9zcmMvY3NzRnVuYy5qcyIsIndlYnBhY2s6Ly9Uc3VtYW1pLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX3B4IiwibnVtIiwiX2RlZyIsIl9yb3RhdGUiLCJNYXRoIiwiZmxvb3IiLCJfc2tld1kiLCJfd2hpbGVTcGFjZSIsIm9iaiIsInJldHVybk9iaiIsIl9yZXR1cm5UcmFuc2Zvcm1WYWx1ZSIsImVsZW1lbnQiLCJ0TmFtZSIsInJlcGxhY2UiLCJUc3VtYW1pIiwic2V0dGluZ3MiLCJ2YWwiLCJtZW1WYWx1ZSIsIm1ldGVyYmciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJwaWUiLCJtZXRlcmJnaG9sZSIsIm1ldGVyYmdob2xlb3V0IiwidHN1bWFtaSIsInBvaW50Iiwic2xpY2VNZXRlckJnIiwic2xpY2VNZXRlckJnQ29udGVudHMiLCJzbGljZU1ldGVyIiwic2xpY2VNZXRlckNvbnRlbnRzIiwiY2VudGVyIiwicG9zaXRpb24iLCJ3aWR0aCIsImNzc0Z1bmMiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwib3ZlcmZsb3ciLCJwYWRkaW5nIiwibWFyZ2luIiwibGVmdCIsInRvcCIsImJvcmRlciIsInRyYW5zZm9ybSIsInVzZXJTZWxlY3QiLCJmaXJzdFJvdGF0ZSIsInN0eWxlIiwicmlnaHQiLCJib3R0b20iLCJjbGFzc05hbWUiLCJ1bmRlZmluZWQiLCJ0YXJnZXQiLCJhc3NpZ24iLCJhcHBlbmRDaGlsZCIsInRyYW5zZm9ybU9yaWdpbiIsImRlZ3JlZSIsImRlZ3JlZVBpZWNlIiwidHIiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93IiwiZSIsImV2ZW50IiwiY2xpZW50WSIsImNvbnNvbGUiLCJsb2ciLCJyb3RhdGVEZWdyZWVBZnRlciIsImRlZ1ZhbHVlIiwic2V0Iiwic00iLCJzTUMiLCJsZW5ndGgiLCJyb3RhdGVEZWciLCJzbVRyYW5zZm9ybSIsInNwbGl0IiwibWluIiwibWF4Iiwic2l6ZSIsImdldEVsZW1lbnRCeUlkIiwiYmdjb2xvciIsInRtbWNvbG9yIiwibWJnY29sb3IiLCJtZXRlclNpemUiLCJzY2FsZSIsIm1jb2xvciJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxHQUFJSCxHQUNlLGlCQUFaQyxRQUNkQSxRQUFpQixRQUFJRCxJQUVyQkQsRUFBYyxRQUFJQyxJQVJwQixDQVNHSyxNQUFNLFdBQ1QsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVQLFFBR25DLElBQUlDLEVBQVNJLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hULFFBQVMsSUFVVixPQU5BVSxFQUFRSCxHQUFV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UyxVQUNoQyxFQUFBN0QsS0FBQSxFQUFjbUQsRUFBUzlCLE9BQVQsRUFBa0JyQixLQUFsQixJQUVkLEVBQUFBLEtBQUEsUUFBQUEsTUFFQSxFQUFBQSxLQUFBLFFBQUFBLE8sb2JBbkNpQmtELEUsV0EyVkYsV0FDZmlELFFBQVFDLElBQUksaUIiLCJmaWxlIjoidHN1bWFtaS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlRzdW1hbWlcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiVHN1bWFtaVwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2luZGV4LmpzXCIpO1xuIiwiLy8gY3Nz5Y2Y5L2N57O7XHJcbmV4cG9ydCBjb25zdCBfcHggPSAobnVtKSA9PiB7XHJcblx0cmV0dXJuIG51bSArIFwicHhcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IF9kZWcgPSAobnVtKSA9PiB7XHJcblx0cmV0dXJuIG51bSArIFwiZGVnXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBfcm90YXRlID0gKG51bSkgPT4ge1xyXG5cdHJldHVybiBcInJvdGF0ZShcIiArIF9kZWcoTWF0aC5mbG9vcihudW0pKSArIFwiKVwiO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgX3NrZXdZID0gKG51bSkgPT4ge1xyXG5cdHJldHVybiBcInNrZXdZKFwiICsgX2RlZyhNYXRoLmZsb29yKG51bSkpICsgXCIpXCI7XHJcbn1cclxuXHJcbi8vIGNzc+WPluW+ly/ku5jkuI7ns7tcclxuZXhwb3J0IGNvbnN0IF93aGlsZVNwYWNlID0gKG9iaikgPT4ge1xyXG5cdGxldCByZXR1cm5PYmogPSBcIlwiO1xyXG5cdGZvciAobGV0IHYgb2Ygb2JqKSB7XHJcblx0XHRyZXR1cm5PYmogKz0gdiArIFwiIFwiO1xyXG5cdH1cclxuXHRyZXR1cm4gcmV0dXJuT2JqO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgX3JldHVyblRyYW5zZm9ybVZhbHVlID0gKGVsZW1lbnQsIG5hbWUpID0+IHtcclxuXHRjb25zdCB0TmFtZSA9IG5hbWUgKyBcIihcIjtcclxuXHRyZXR1cm4gKyhlbGVtZW50LnJlcGxhY2UodE5hbWUsIFwiXCIpLnJlcGxhY2UoXCJkZWcpXCIsIFwiXCIpKTtcclxufSIsImltcG9ydCAqIGFzIGNzc0Z1bmMgZnJvbSBcIi4vY3NzRnVuY1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVHN1bWFtaSB7XHJcbiAgI3NpemU7XHJcbiAgI3RhcmdldDtcclxuICAjYmdjb2xvcjtcclxuICAjdG1tY29sb3I7XHJcbiAgI21iZ2NvbG9yO1xyXG4gICNtZXRlclNpemU7XHJcbiAgI2RlZ3JlZTtcclxuICAjc2NhbGU7XHJcbiAgI21pbjtcclxuICAjbWF4O1xyXG4gICNvYmo7XHJcbiAgI21jb2xvcjtcclxuICAjcG9pbnQ7XHJcbiAgI3ZhbHVlO1xyXG5cclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncykge1xyXG4gICAgc2V0dGluZ3MgPSAoc2V0dGluZ3MgPT09IHVuZGVmaW5lZCkgPyB7fSA6IHNldHRpbmdzO1xyXG4gICAgdGhpcy4jc2l6ZSA9IHNldHRpbmdzLnNpemUgfHwgMTAwOyAvL+OCteOCpOOCulxyXG4gICAgdGhpcy4jdGFyZ2V0ID0gc2V0dGluZ3MudGFyZ2V0IHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHN1bWFtaVwiKTsgLy/jgr/jg7zjgrLjg4Pjg4hcclxuICAgIHRoaXMuI2JnY29sb3IgPSBzZXR0aW5ncy5iZ2NvbG9yIHx8IFwicmVkXCI7IC8v6IOM5pmv6ImyXHJcbiAgICB0aGlzLiN0bW1jb2xvciA9IHNldHRpbmdzLnRtbWNvbG9yIHx8IFwieWVsbG93XCI7IC8v44Gk44G+44G/6ImyXHJcbiAgICB0aGlzLiNtYmdjb2xvciA9IHNldHRpbmdzLm1iZ2NvbG9yIHx8IFwiYmxhY2tcIjsgLy/jg6Hjg7zjgr/jg7zog4zmma/oibJcclxuICAgIHRoaXMuI21ldGVyU2l6ZSA9IHNldHRpbmdzLm1ldGVyU2l6ZSB8fCAxMDsgLy/jg6Hjg7zjgr/jg7zluYVcclxuICAgIHRoaXMuI2RlZ3JlZSA9IHNldHRpbmdzLmRlZ3JlZSB8fCAyNzA7IC8v44Oh44O844K/44O86KGo56S65bmFXHJcbiAgICB0aGlzLiNzY2FsZSA9IHNldHRpbmdzLnNjYWxlIHx8IDEuMjsgLy/jg6Hjg7zjgr/jg7zjgrnjgrHjg7zjg6tcclxuICAgIHRoaXMuI21pbiA9IHNldHRpbmdzLm1pbiB8fCAwOyAvL+acgOWwj+WApFxyXG4gICAgdGhpcy4jbWF4ID0gc2V0dGluZ3MubWF4IHx8IDEwMDsgLy8g5pyA5aSn5YCkXHJcbiAgICB0aGlzLiNvYmogPSBzZXR0aW5ncy5vYmogfHwgXCJcIjsgLy/lgKTjgpLlj5bjgovlpInmlbBcclxuICAgIHRoaXMuI21jb2xvciA9IHNldHRpbmdzLm1jb2xvciB8fCBcImJsdWVcIjsgLy/jg6Hjg7zjgr/jg7zjga7oibJcclxuICAgIHRoaXMuI3BvaW50ID0gc2V0dGluZ3MucG9pbnQgfHwgXCJwdXJwbGVcIjsgLy/jg53jgqTjg7Pjg4jjga7oibJcclxuICAgIHRoaXMuI3ZhbHVlID0gc2V0dGluZ3MudmFsdWUgfHwgdGhpcy4jbWluO1xyXG5cclxuICAgIHRoaXMuI2NyZWF0ZVRhZygpO1xyXG5cclxuICAgIHRoaXMuI21haW4oKTtcclxuICB9XHJcblxyXG4gICNjcmVhdGVUYWcgPSAoKSA9PiB7XHJcbiAgICB0aGlzLm1ldGVyYmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMucGllID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcclxuICAgIHRoaXMubWV0ZXJiZ2hvbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMubWV0ZXJiZ2hvbGVvdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMudHN1bWFtaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5wb2ludCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgdGhpcy5zbGljZU1ldGVyQmcgPSBbXTtcclxuICAgIHRoaXMuc2xpY2VNZXRlckJnQ29udGVudHMgPSBbXTtcclxuICAgIHRoaXMuc2xpY2VNZXRlciA9IFtdO1xyXG4gICAgdGhpcy5zbGljZU1ldGVyQ29udGVudHMgPSBbXTtcclxuICB9XHJcblxyXG4gICNtYWluID0gKCkgPT4ge1xyXG4gICAgLy8g5aSW5p6gXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy4jdGFyZ2V0LCB7XHJcbiAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXHJcbiAgICAgIHdpZHRoOiBjc3NGdW5jLl9weCh0aGlzLiNzaXplKSxcclxuICAgICAgaGVpZ2h0OiBjc3NGdW5jLl9weCh0aGlzLiNzaXplKSxcclxuICAgICAgYmFja2dyb3VuZDogdGhpcy4jYmdjb2xvclxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g44Oh44O844K/44O86IOM5pmvXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5tZXRlcmJnLCB7XHJcbiAgICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgICBiYWNrZ3JvdW5kOiB0aGlzLiNtYmdjb2xvcixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIHRoaXMuI3NjYWxlKSxcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlcmJnXCIsIHRoaXMuI3RhcmdldCk7XHJcblxyXG4gICAgLy8g44Oh44O844K/44KS6Zqg44GZIG9yIOODoeODvOOCv+ODvOmDqOOBruaeoFxyXG4gICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMucGllLCB7XHJcbiAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgIHBhZGRpbmc6IDAsXHJcbiAgICAgIG1hcmdpbjogMCxcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUpLFxyXG4gICAgICBoZWlnaHQ6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUpLFxyXG4gICAgICBsZWZ0OiBjc3NGdW5jLl9weCgodGhpcy4jc2l6ZSAtIHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSkgLyAoLTIpKSxcclxuICAgICAgdG9wOiBjc3NGdW5jLl9weCgodGhpcy4jc2l6ZSAtIHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSkgLyAoLTIpKSxcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlclwiLCB0aGlzLm1ldGVyYmcpO1xyXG5cclxuICAgIC8vIOODoeODvOOCv+OCkumaoOOBmeaJh+W9ouS9nOaIkFxyXG4gICAgdGhpcy4jY3JlYXRlc2xpY2VNZXRlckJnKHRoaXMuI2RlZ3JlZSk7XHJcblxyXG4gICAgLy8g44Oh44O844K/44O844KS6KGo56S644GZ44KL5omH5b2i5L2c5oiQ5L2c5oiQXHJcbiAgICB0aGlzLiNjcmVhdGVzbGljZU1ldGVyKHRoaXMuI2RlZ3JlZSk7XHJcblxyXG4gICAgLy8g5YaF5YaGXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5tZXRlcmJnaG9sZSwge1xyXG4gICAgICBjZW50ZXI6IHRydWUsXHJcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSAtIHRoaXMuI21ldGVyU2l6ZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIHRoaXMuI3NjYWxlIC0gdGhpcy4jbWV0ZXJTaXplKSxcclxuICAgICAgYmFja2dyb3VuZDogdGhpcy4jYmdjb2xvcixcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlcmhvbGVcIiwgdGhpcy5tZXRlcmJnKTtcclxuXHJcbiAgICAvLyDlpJblhoZcclxuICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLm1ldGVyYmdob2xlb3V0LCB7XHJcbiAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIHRoaXMuI3NjYWxlKSxcclxuICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDApXCIsXHJcbiAgICAgIGJvcmRlcjogY3NzRnVuYy5fd2hpbGVTcGFjZShbXCJzb2xpZFwiLCBjc3NGdW5jLl9weCgodGhpcy4jc2l6ZSAtIHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSkgLyAyKSwgdGhpcy4jYmdjb2xvcl0pLFxyXG4gICAgICBtYXJnaW46IDAsXHJcbiAgICAgIHRvcDogXCI1MCVcIixcclxuICAgICAgbGVmdDogXCI1MCVcIixcclxuICAgICAgdHJhbnNmb3JtOiBjc3NGdW5jLl93aGlsZVNwYWNlKFtcInRyYW5zbGF0ZVgoLTUwJSlcIiwgXCJ0cmFuc2xhdGVZKC01MCUpXCJdKSxcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlcmhvbGUtb3V0XCIsIHRoaXMubWV0ZXJiZyk7XHJcblxyXG4gICAgLy8g44Gk44G+44G/XHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy50c3VtYW1pLCB7XHJcbiAgICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXHJcbiAgICAgIHdpZHRoOiBjc3NGdW5jLl9weCh0aGlzLiNzaXplIC8gMiksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIDIpLFxyXG4gICAgICBiYWNrZ3JvdW5kOiB0aGlzLiN0bW1jb2xvcixcclxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgICB0cmFuc2Zvcm06IGNzc0Z1bmMuX3JvdGF0ZSh0aGlzLiNkZWdyZWUgLyAtMiksXHJcbiAgICB9LCBcInRzdW1hbWktaW5uZXJcIiwgdGhpcy4jdGFyZ2V0KTtcclxuXHJcbiAgICAvLyDph51cclxuICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnBvaW50LCB7XHJcbiAgICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgICAgd2lkdGg6IFwiMTAlXCIsXHJcbiAgICAgIGhlaWdodDogXCIyMCVcIixcclxuICAgICAgYmFja2dyb3VuZDogdGhpcy4jcG9pbnQsXHJcbiAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVZKC0xMDAlKVwiLFxyXG4gICAgfSwgXCJ0c3VtYW1pLXBvaW50XCIsIHRoaXMudHN1bWFtaSk7XHJcblxyXG4gICAgLy/jgqTjg5njg7Pjg4jov73liqBcclxuICAgIHRoaXMuI2V2ZW50QWRkKHRoaXMudHN1bWFtaSk7XHJcblxyXG4gICAgLy8g5Yid5pyf5YCk44G+44Gn5Zue6LuiXHJcbiAgICBjb25zdCBmaXJzdFJvdGF0ZSA9IHRoaXMuI3ZhbHVlKnRoaXMuI2RlZ3JlZS8odGhpcy4jbWF4LXRoaXMuI21pbik7XHJcbiAgICB0aGlzLiNyb3RhdGVNZXRlcihmaXJzdFJvdGF0ZSk7XHJcbiAgICB0aGlzLnRzdW1hbWkuc3R5bGUudHJhbnNmb3JtID0gY3NzRnVuYy5fcm90YXRlKGZpcnN0Um90YXRlIC0gdGhpcy4jZGVncmVlLzIpO1xyXG4gICAgdGhpcy4jb3V0cHV0T2JqZWN0LnZhbHVlID0gdGhpcy4jdmFsdWU7XHJcbiAgfVxyXG5cclxuICAvL2NlbnRlclxyXG4gICNzdHlsZUNlbnRlciA9ICgpID0+IHtcclxuICAgIGNvbnN0IHN0eWxlID0ge1xyXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICB0b3A6IDAsXHJcbiAgICAgIHJpZ2h0OiAwLFxyXG4gICAgICBib3R0b206IDAsXHJcbiAgICAgIGxlZnQ6IDAsXHJcbiAgICAgIG1hcmdpbjogXCJhdXRvXCIsXHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3R5bGU7XHJcbiAgfVxyXG5cclxuICAvLyBjc3Pku5jkuI5cclxuICAjYWRkU3R5bGVFbGVtZW50ID0gKGVsZW1lbnQsIHN0eWxlLCBjbGFzc05hbWUgPSB1bmRlZmluZWQsIHRhcmdldCA9IHVuZGVmaW5lZCkgPT4ge1xyXG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdm9pZCAwKSBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcclxuICAgIGlmIChzdHlsZS5jZW50ZXIpIHN0eWxlID0gT2JqZWN0LmFzc2lnbih0aGlzLiNzdHlsZUNlbnRlcigpLCBzdHlsZSk7XHJcbiAgICBkZWxldGUgc3R5bGUuY2VudGVyO1xyXG4gICAgZm9yIChsZXQga2V5IGluIHN0eWxlKSB7XHJcbiAgICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHN0eWxlW2tleV07XHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0ICE9PSB2b2lkIDApIHRhcmdldC5hcHBlbmRDaGlsZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gICNtZXRlclN0eWxlID0ge1xyXG4gICAgY2VudGVyOiBmYWxzZSxcclxuICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxyXG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgIHdpZHRoOiBcIjUwJVwiLFxyXG4gICAgaGVpZ2h0OiBcIjUwJVwiLFxyXG4gICAgdHJhbnNmb3JtT3JpZ2luOiBcIjAlIDEwMCVcIixcclxuICB9XHJcblxyXG4gICNtZXRlckNvbnRlbnRTdHlsZSA9IHtcclxuICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgbGVmdDogXCItMTAwJVwiLFxyXG4gICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgd2lkdGg6IFwiMjAwJVwiLFxyXG4gICAgaGVpZ2h0OiBcIjIwMCVcIixcclxuICB9XHJcblxyXG4gIC8vIOODoeODvOOCv+OCkumaoOOBmeaJh+W9ouS9nOaIkFxyXG4gICNjcmVhdGVzbGljZU1ldGVyQmcgPSAoZGVncmVlKSA9PiB7XHJcbiAgICBkZWdyZWUgPSAoZGVncmVlID4gMzYwKSA/IDAgOiAzNjAgLSBkZWdyZWU7XHJcbiAgICBjb25zdCBiZiA9IChkZWdyZWUgJSA5MCA9PSAwKSA/IDAgOiAxO1xyXG4gICAgY29uc3QgbnVtID0gZGVncmVlIC8gOTAgKyBiZjtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcclxuICAgICAgbGV0IGRlZ3JlZVBpZWNlID0gMDtcclxuICAgICAgaWYgKGRlZ3JlZSA9PSAwKSB7XHJcbiAgICAgICAgdGhpcy5zbGljZU1ldGVyQmdbaV0gPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuc2xpY2VNZXRlckJnQ29udGVudHNbaV0gPSBcIlwiO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9IGVsc2UgaWYgKGRlZ3JlZSA+PSA5MCkge1xyXG4gICAgICAgIGRlZ3JlZVBpZWNlID0gOTA7XHJcbiAgICAgICAgZGVncmVlIC09IDkwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlZ3JlZVBpZWNlID0gZGVncmVlO1xyXG4gICAgICAgIGRlZ3JlZSA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zbGljZU1ldGVyQmdbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgIHRoaXMuc2xpY2VNZXRlckJnQ29udGVudHNbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5zbGljZU1ldGVyQmdbaV0sIHtcclxuICAgICAgICAuLi50aGlzLiNtZXRlclN0eWxlLFxyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICByaWdodDogMCxcclxuICAgICAgICB0cmFuc2Zvcm06IGNzc0Z1bmMuX3doaWxlU3BhY2UoW2Nzc0Z1bmMuX3JvdGF0ZShkZWdyZWVQaWVjZSAvICgtMikgKyAxODAgLSBpICogNDUgKyBkZWdyZWUgLyAyKSwgY3NzRnVuYy5fc2tld1koLTkwICsgZGVncmVlUGllY2UpXSksXHJcbiAgICAgIH0sIFwic2xpY2VNZXRlckJnXCIsIHRoaXMucGllKTtcclxuXHJcbiAgICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnNsaWNlTWV0ZXJCZ0NvbnRlbnRzW2ldLCB7XHJcbiAgICAgICAgLi4udGhpcy4jbWV0ZXJDb250ZW50U3R5bGUsXHJcbiAgICAgICAgYmFja2dyb3VuZDogdGhpcy4jYmdjb2xvcixcclxuICAgICAgICB0cmFuc2Zvcm06IGNzc0Z1bmMuX3NrZXdZKDkwIC0gZGVncmVlUGllY2UpLFxyXG4gICAgICB9LCBcInNsaWNlTWV0ZXJCZy1jb250ZW50c1wiLCB0aGlzLnNsaWNlTWV0ZXJCZ1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyDjg6Hjg7zjgr/jg7zkvZzmiJBcclxuICAjY3JlYXRlc2xpY2VNZXRlciA9IChkZWdyZWUpID0+IHtcclxuICAgIGNvbnN0IGJmID0gKGRlZ3JlZSAlIDkwID09IDApID8gMCA6IDE7XHJcbiAgICBjb25zdCBudW0gPSBkZWdyZWUgLyA5MCArIGJmO1xyXG4gICAgZGVncmVlID0gKGRlZ3JlZSA+IDM2MCkgPyAwIDogMzYwIC0gZGVncmVlO1xyXG4gICAgdmFyIHRyID0gW3tcclxuICAgICAgICB0b3A6IGNzc0Z1bmMuX3B4KDApLFxyXG4gICAgICAgIHJpZ2h0OiBjc3NGdW5jLl9weCgtMSlcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRvcDogY3NzRnVuYy5fcHgoMSksXHJcbiAgICAgICAgcmlnaHQ6IGNzc0Z1bmMuX3B4KDApXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0b3A6IGNzc0Z1bmMuX3B4KDApLFxyXG4gICAgICAgIHJpZ2h0OiBjc3NGdW5jLl9weCgxKVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdG9wOiBjc3NGdW5jLl9weCgtMSksXHJcbiAgICAgICAgcmlnaHQ6IGNzc0Z1bmMuX3B4KDApXHJcbiAgICAgIH0sXHJcbiAgICBdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07IGkrKykge1xyXG4gICAgICB0aGlzLnNsaWNlTWV0ZXJbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgIHRoaXMuc2xpY2VNZXRlckNvbnRlbnRzW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMuc2xpY2VNZXRlcltpXSwge1xyXG4gICAgICAgIC4uLnRoaXMuI21ldGVyU3R5bGUsXHJcbiAgICAgICAgdHJhbnNmb3JtOiBjc3NGdW5jLl93aGlsZVNwYWNlKFtjc3NGdW5jLl9yb3RhdGUoMTgwICsgOTAgKiBpICsgZGVncmVlIC8gMiksIGNzc0Z1bmMuX3NrZXdZKC05MCldKSxcclxuICAgICAgICAuLi50cltpXVxyXG4gICAgICB9LCBcInNsaWNlTWV0ZXJcIiwgdGhpcy5waWUpO1xyXG5cclxuICAgICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMuc2xpY2VNZXRlckNvbnRlbnRzW2ldLCB7XHJcbiAgICAgICAgLi4udGhpcy4jbWV0ZXJDb250ZW50U3R5bGUsXHJcbiAgICAgICAgYmFja2dyb3VuZDogdGhpcy4jbWNvbG9yLFxyXG4gICAgICAgIHRyYW5zZm9ybTogY3NzRnVuYy5fc2tld1koOTApLFxyXG4gICAgICB9LCBcInNsaWNlTWV0ZXItY29udGVudHNcIiwgdGhpcy5zbGljZU1ldGVyW2ldKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOODnuOCpuOCueaTjeS9nFxyXG4gICNldmVudEFkZCA9IChlbGVtZW50KSA9PiB7XHJcbiAgICB0aGlzLiNjbGljayA9IGZhbHNlO1xyXG4gICAgdGhpcy4jbWVtb3J5WSA9IDA7XHJcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy4jT25Nb3VzZURvd24sIGZhbHNlKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIChlKSA9PiB7XHJcbiAgICAgIHRoaXMuI09uTW91c2VNb3ZlKGUsIGVsZW1lbnQpXHJcbiAgICB9LCBmYWxzZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy4jT25Nb3VzZVVwLCBmYWxzZSk7XHJcbiAgfVxyXG5cclxuICAjY2xpY2s7XHJcbiAgI21lbW9yeVk7XHJcbiAgI09uTW91c2VEb3duID0gKGV2ZW50KSA9PiB7XHJcbiAgICB0aGlzLiNjbGljayA9IHRydWU7XHJcbiAgICB0aGlzLiNtZW1vcnlZID0gZXZlbnQuY2xpZW50WTtcclxuICAgIGNvbnNvbGUubG9nKFwiTW91c2VEb3duXCIpO1xyXG4gIH1cclxuXHJcbiAgI09uTW91c2VNb3ZlID0gKGV2ZW50LCBlbGVtZW50KSA9PiB7XHJcbiAgICBpZiAodGhpcy4jY2xpY2spIHtcclxuICAgICAgY29uc3Qgcm90YXRlRGVncmVlQmVmb3JlID0gY3NzRnVuYy5fcmV0dXJuVHJhbnNmb3JtVmFsdWUoZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0sIFwicm90YXRlXCIpO1xyXG4gICAgICBsZXQgcm90YXRlRGVncmVlQWZ0ZXIgPSByb3RhdGVEZWdyZWVCZWZvcmUgKyAoZXZlbnQuY2xpZW50WSAtIHRoaXMuI21lbW9yeVkpICogMztcclxuICAgICAgY29uc3QgZGVnVmFsdWUgPSB0aGlzLiNsaW1pdChyb3RhdGVEZWdyZWVBZnRlciwgLXRoaXMuI2RlZ3JlZSAvIDIsIHRoaXMuI2RlZ3JlZSAvIDIpO1xyXG4gICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGNzc0Z1bmMuX3JvdGF0ZShkZWdWYWx1ZSk7XHJcbiAgICAgIHRoaXMuI21lbW9yeVkgPSBldmVudC5jbGllbnRZO1xyXG5cclxuICAgICAgdGhpcy4jcm90YXRlTWV0ZXIoZGVnVmFsdWUgKyB0aGlzLiNkZWdyZWUgLyAyKTtcclxuXHJcbiAgICAgIHRoaXMuI291dHB1dE9iamVjdC52YWx1ZSA9ICh0aGlzLiNtYXggLSB0aGlzLiNtaW4pICogKGRlZ1ZhbHVlICsgdGhpcy4jZGVncmVlIC8gMikgLyB0aGlzLiNkZWdyZWUgKyB0aGlzLiNtaW47XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhcIk1vdXNlTW92ZVwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICNPbk1vdXNlVXAgPSAoZXZlbnQpID0+IHtcclxuICAgIHRoaXMuI2NsaWNrID0gZmFsc2U7XHJcbiAgICBjb25zb2xlLmxvZyhcIk1vdXNlVXBcIik7XHJcbiAgfVxyXG5cclxuICAvL+OCquODluOCuOOCp+OCr+ODiOOBq+WApOOCkuOCu+ODg+ODiFxyXG4gICNvdXRwdXRPYmplY3QgPSAoKCkgPT4ge1xyXG4gICAgdmFyIHZhbCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcbiAgICB2YXIgbWVtVmFsdWUgPSAwO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbCwgJ3ZhbHVlJywge1xyXG4gICAgICBzZXQ6ICh2YWx1ZSkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLiNvYmogIT09IFwiXCIpIHtcclxuICAgICAgICAgIHRoaXMuI29iai52YWx1ZSA9IHZhbHVlOyAvL+OCu+ODg+ODiFxyXG4gICAgICAgIH1cclxuICAgICAgICBtZW1WYWx1ZSA9IHZhbHVlO1xyXG4gICAgICB9LFxyXG4gICAgICBnZXQ6ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbWVtVmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZhbDtcclxuICB9KSgpO1xyXG5cclxuICAjcm90YXRlTWV0ZXIgPSAoZGVncmVlKSA9PiB7XHJcbiAgICBjb25zdCBzTSA9IHRoaXMuc2xpY2VNZXRlcjtcclxuICAgIGNvbnN0IHNNQyA9IHRoaXMuc2xpY2VNZXRlckNvbnRlbnRzO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNsaWNlTWV0ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIHJvdGF0ZURlZyA9IDA7XHJcbiAgICAgIGlmIChkZWdyZWUgPj0gOTApIHtcclxuICAgICAgICByb3RhdGVEZWcgPSA5MDtcclxuICAgICAgICBkZWdyZWUgLT0gOTA7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcm90YXRlRGVnID0gZGVncmVlO1xyXG4gICAgICAgIGRlZ3JlZSA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgY29uc3Qgc21UcmFuc2Zvcm0gPSBzTVtpXS5zdHlsZS50cmFuc2Zvcm0uc3BsaXQoXCIgXCIpO1xyXG4gICAgICBzTVtpXS5zdHlsZS50cmFuc2Zvcm0gPSBjc3NGdW5jLl93aGlsZVNwYWNlKFtzbVRyYW5zZm9ybVswXSwgY3NzRnVuYy5fc2tld1koLTkwICsgcm90YXRlRGVnKV0pO1xyXG4gICAgICBzTUNbaV0uc3R5bGUudHJhbnNmb3JtID0gY3NzRnVuYy5fc2tld1koOTAgLSByb3RhdGVEZWcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g44Gd44Gu5LuW6Zai5pWwXHJcbiAgI2xpbWl0ID0gKHZhbHVlLCBtaW4sIG1heCkgPT4ge1xyXG4gICAgaWYgKHZhbHVlIDwgbWluKSB7XHJcbiAgICAgIHZhbHVlID0gbWluO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA+IG1heCkge1xyXG4gICAgICB2YWx1ZSA9IG1heDtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIC8vIOODhuOCueODiOODreOCsFxyXG4gIHN0YXRpYyB0ZXN0bG9nID0gKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJ0ZXN0bG9nXCIpO1xyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=