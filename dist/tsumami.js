!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Tsumami=t():e.Tsumami=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw o}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.r(t),r.d(t,"default",(function(){return h}));var a=function(e){return e+"px"},o=function(e){return e+"deg"},l=function(e){return"rotate("+o(Math.floor(e))+")"},s=function(e){return"skewY("+o(Math.floor(e))+")"},u=function(e){var t,r="",i=n(e);try{for(i.s();!(t=i.n()).done;){r+=t.value+" "}}catch(e){i.e(e)}finally{i.f()}return r};function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function p(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var h=function e(t){var r,n,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),M.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),W.set(this,{writable:!0,value:void 0}),O.set(this,{writable:!0,value:void 0}),j.set(this,{writable:!0,value:void 0}),E.set(this,{writable:!0,value:void 0}),P.set(this,{writable:!0,value:void 0}),S.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),B.set(this,{writable:!0,value:void 0}),C.set(this,{writable:!0,value:void 0}),T.set(this,{writable:!0,value:void 0}),A.set(this,{writable:!0,value:function(){i.meterbg=document.createElement("div"),i.pie=document.createElement("ul"),i.meterbghole=document.createElement("div"),i.meterbgholeout=document.createElement("div"),i.tsumami=document.createElement("div"),i.point=document.createElement("div"),i.sliceMeterBg=[],i.sliceMeterBgContents=[],i.sliceMeter=[],i.sliceMeterContents=[]}}),R.set(this,{writable:!0,value:function(){var e=["center"];for(var t in p(i,T,0),e)if(e[t]===v(i,B)){p(i,T,t+1);break}1==v(i,T)&&(p(i,x,0),p(i,O,-v(i,C)),p(i,j,v(i,C)))}}),Y.set(this,{writable:!0,value:function(){if(v(i,D).call(i,v(i,b),{center:!1,position:"relative",width:a(v(i,m)),height:a(v(i,m)),background:v(i,w)}),v(i,D).call(i,i.meterbg,{center:!0,borderRadius:"50%",background:v(i,M),width:a(v(i,m)/v(i,W)),height:a(v(i,m)/v(i,W))},"tsumami-meterbg",v(i,b)),v(i,D).call(i,i.pie,{center:!1,overflow:"hidden",borderRadius:"50%",position:"absolute",padding:0,margin:0,width:a(v(i,m)),height:a(v(i,m)),left:a((v(i,m)-v(i,m)/v(i,W))/-2),top:a((v(i,m)-v(i,m)/v(i,W))/-2)},"tsumami-meter",i.meterbg),v(i,z).call(i,v(i,k)),v(i,N).call(i,v(i,k)),v(i,D).call(i,i.meterbghole,{center:!0,borderRadius:"50%",width:a(v(i,m)/v(i,W)-v(i,y)),height:a(v(i,m)/v(i,W)-v(i,y)),background:v(i,w)},"tsumami-meterhole",i.meterbg),v(i,D).call(i,i.meterbgholeout,{center:!1,position:"absolute",borderRadius:"50%",width:a(v(i,m)/v(i,W)),height:a(v(i,m)/v(i,W)),background:"rgba(0,0,0,0)",border:u(["solid",a((v(i,m)-v(i,m)/v(i,W))/2),v(i,w)]),margin:0,top:"50%",left:"50%",transform:u(["translateX(-50%)","translateY(-50%)"])},"tsumami-meterhole-out",i.meterbg),v(i,D).call(i,i.tsumami,{center:!0,userSelect:"none",width:a(v(i,m)/2),height:a(v(i,m)/2),background:v(i,g),borderRadius:"50%",transform:l(v(i,k)/-2)},"tsumami-inner",v(i,b)),v(i,D).call(i,i.point,{center:!0,width:"10%",height:"20%",background:v(i,S),transform:"translateY(-100%)"},"tsumami-point",i.tsumami),v(i,U).call(i,i.tsumami),0==v(i,T)){var e=v(i,x)*v(i,k)/(v(i,j)-v(i,O));v(i,H).call(i,e),i.tsumami.style.transform=l(e-v(i,k)/2)}else 1==v(i,T)&&(i.tsumami.style.transform=l(0));v(i,G).value=v(i,x)}}),_.set(this,{writable:!0,value:function(){return{position:"absolute",top:0,right:0,bottom:0,left:0,margin:"auto"}}}),D.set(this,{writable:!0,value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;for(var a in void 0!==r&&(e.className=r),t.center&&(t=Object.assign(v(i,_).call(i),t)),delete t.center,t)e.style[a]=t[a];void 0!==n&&n.appendChild(e)}}),I.set(this,{writable:!0,value:{center:!1,overflow:"hidden",position:"absolute",width:"50%",height:"50%",transformOrigin:"0% 100%"}}),L.set(this,{writable:!0,value:{center:!1,position:"absolute",left:"-100%",borderRadius:"50%",width:"200%",height:"200%"}}),z.set(this,{writable:!0,value:function(e){e=e>360?0:360-e;for(var t=0;t<4;t++){var r=0;0!=e?(e>=90?(r=90,e-=90):(r=e,e=0),i.sliceMeterBg[t]=document.createElement("li"),i.sliceMeterBgContents[t]=document.createElement("div"),v(i,D).call(i,i.sliceMeterBg[t],f(f({},v(i,I)),{},{top:0,right:0,transform:u([l(r/-2+180-45*t+e/2),s(-90+r)])}),"sliceMeterBg",i.pie),v(i,D).call(i,i.sliceMeterBgContents[t],f(f({},v(i,L)),{},{background:v(i,w),transform:s(90-r)}),"sliceMeterBg-contents",i.sliceMeterBg[t])):(i.sliceMeterBg[t]="",i.sliceMeterBgContents[t]="")}}}),N.set(this,{writable:!0,value:function(e){e=e>360?0:360-e;for(var t=[{top:a(0),right:a(-1)},{top:a(1),right:a(0)},{top:a(0),right:a(1)},{top:a(-1),right:a(0)}],r=[0,90,0,-90],n=0;n<4;n++){i.sliceMeter[n]=document.createElement("li"),i.sliceMeterContents[n]=document.createElement("div");var o={transform:u([l(180+90*n+e/2),s(-90)])};1==v(i,T)&&(o={transform:u([l(r[n]),s(-90)])}),v(i,D).call(i,i.sliceMeter[n],f(f(f({},v(i,I)),o),t[n]),"sliceMeter",i.pie),v(i,D).call(i,i.sliceMeterContents[n],f(f({},v(i,L)),{},{background:v(i,P),transform:s(90)}),"sliceMeter-contents",i.sliceMeter[n])}}}),U.set(this,{writable:!0,value:function(e){p(i,V,!1),p(i,X,0),e.addEventListener("pointerdown",v(i,$),!1),window.addEventListener("pointermove",(function(t){v(i,q).call(i,t,e)}),!1),window.addEventListener("pointerup",v(i,F),!1)}}),V.set(this,{writable:!0,value:void 0}),X.set(this,{writable:!0,value:void 0}),$.set(this,{writable:!0,value:function(e){p(i,V,!0),p(i,X,e.clientY)}}),q.set(this,{writable:!0,value:function(e,t){if(v(i,V)){var r=function(e,t){var r=t+"(";return+e.replace(r,"").replace("deg)","")}(t.style.transform,"rotate")+3*(e.clientY-v(i,X)),n=v(i,J).call(i,r,-v(i,k)/2,v(i,k)/2);t.style.transform=l(n),p(i,X,e.clientY),v(i,H).call(i,n+v(i,k)/2),v(i,G).value=(v(i,j)-v(i,O))*(n+v(i,k)/2)/v(i,k)+v(i,O)}}}),F.set(this,{writable:!0,value:function(e){p(i,V,!1)}}),G.set(this,{writable:!0,value:(r=Object.create(null),n=0,Object.defineProperty(r,"value",{set:function(e){""!==v(i,E)&&(v(i,E).value=e),n=e},get:function(){return n}}),r)}),H.set(this,{writable:!0,value:function(e){var t=i.sliceMeter,r=i.sliceMeterContents;if(0==v(i,T))for(var n=0;n<i.sliceMeter.length;n++){var a=0;e>=90?(a=90,e-=90):(a=e,e=0);var o=t[n].style.transform.split(" ")[0];t[n].style.transform=u([o,s(-90+a)]),r[n].style.transform=s(90-a)}if(1==v(i,T)){var c=[[-90,-1],[0,-1],[0,0],[90,0]];e-=v(i,k)/2;a=[v(i,J).call(i,-e-90,0,90),v(i,J).call(i,-e,0,90),v(i,J).call(i,e,0,90),v(i,J).call(i,e-90,0,90)];for(var f=0;f<i.sliceMeter.length;f++)t[f].style.transform=u([l(c[f][0]+c[f][1]*a[f]),s(-90+a[f])]),r[f].style.transform=s(90-a[f])}}}),J.set(this,{writable:!0,value:function(e,t,r){return e<t?e=t:e>r&&(e=r),e}}),p(this,m,(t=void 0===t?{}:t).size||100),p(this,b,t.target||document.getElementById("tsumami")),p(this,w,t.bgcolor||"red"),p(this,g,t.tmmcolor||"yellow"),p(this,M,t.mbgcolor||"black"),p(this,y,t.meterSize||10),p(this,k,t.degree||270),p(this,W,t.scale||1.2),p(this,O,t.min||0),p(this,j,t.max||100),p(this,E,t.obj||""),p(this,P,t.mcolor||"blue"),p(this,S,t.point||"purple"),p(this,x,t.value||v(this,O)),p(this,B,t.mode||"nomal"),p(this,C,t.centerValue||50),v(this,A).call(this),v(this,R).call(this),v(this,Y).call(this)},m=new WeakMap,b=new WeakMap,w=new WeakMap,g=new WeakMap,M=new WeakMap,y=new WeakMap,k=new WeakMap,W=new WeakMap,O=new WeakMap,j=new WeakMap,E=new WeakMap,P=new WeakMap,S=new WeakMap,x=new WeakMap,B=new WeakMap,C=new WeakMap,T=new WeakMap,A=new WeakMap,R=new WeakMap,Y=new WeakMap,_=new WeakMap,D=new WeakMap,I=new WeakMap,L=new WeakMap,z=new WeakMap,N=new WeakMap,U=new WeakMap,V=new WeakMap,X=new WeakMap,$=new WeakMap,q=new WeakMap,F=new WeakMap,G=new WeakMap,H=new WeakMap,J=new WeakMap;d(h,"testlog",(function(){console.log("testlog")}))}]).default}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Uc3VtYW1pL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9Uc3VtYW1pL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL1RzdW1hbWkvLi9zcmMvY3NzRnVuYy5qcyIsIndlYnBhY2s6Ly9Uc3VtYW1pLy4vc3JjL2luZGV4LmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInRoaXMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX3B4IiwibnVtIiwiX2RlZyIsIl9yb3RhdGUiLCJNYXRoIiwiZmxvb3IiLCJfc2tld1kiLCJfd2hpbGVTcGFjZSIsIm9iaiIsInJldHVybk9iaiIsIlRzdW1hbWkiLCJzZXR0aW5ncyIsInZhbCIsIm1lbVZhbHVlIiwibWV0ZXJiZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInBpZSIsIm1ldGVyYmdob2xlIiwibWV0ZXJiZ2hvbGVvdXQiLCJ0c3VtYW1pIiwicG9pbnQiLCJzbGljZU1ldGVyQmciLCJzbGljZU1ldGVyQmdDb250ZW50cyIsInNsaWNlTWV0ZXIiLCJzbGljZU1ldGVyQ29udGVudHMiLCJtb2RlYXJyIiwiY2VudGVyIiwicG9zaXRpb24iLCJ3aWR0aCIsImNzc0Z1bmMiLCJoZWlnaHQiLCJiYWNrZ3JvdW5kIiwiYm9yZGVyUmFkaXVzIiwib3ZlcmZsb3ciLCJwYWRkaW5nIiwibWFyZ2luIiwibGVmdCIsInRvcCIsImJvcmRlciIsInRyYW5zZm9ybSIsInVzZXJTZWxlY3QiLCJmaXJzdFJvdGF0ZSIsInN0eWxlIiwicmlnaHQiLCJib3R0b20iLCJlbGVtZW50IiwiY2xhc3NOYW1lIiwidW5kZWZpbmVkIiwidGFyZ2V0IiwiYXNzaWduIiwiYXBwZW5kQ2hpbGQiLCJ0cmFuc2Zvcm1PcmlnaW4iLCJkZWdyZWUiLCJkZWdyZWVQaWVjZSIsInRyIiwiY2VudGVyUm90YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsImUiLCJldmVudCIsImNsaWVudFkiLCJyb3RhdGVEZWdyZWVBZnRlciIsInROYW1lIiwicmVwbGFjZSIsImRlZ1ZhbHVlIiwic2V0Iiwic00iLCJzTUMiLCJsZW5ndGgiLCJyb3RhdGVEZWciLCJzbVRyYW5zZm9ybSIsInNwbGl0IiwibWluIiwibWF4Iiwic2l6ZSIsImdldEVsZW1lbnRCeUlkIiwiYmdjb2xvciIsInRtbWNvbG9yIiwibWJnY29sb3IiLCJtZXRlclNpemUiLCJzY2FsZSIsIm1jb2xvciIsImNlbnRlclZhbHVlIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxHQUFJSCxHQUNlLGlCQUFaQyxRQUNkQSxRQUFpQixRQUFJRCxJQUVyQkQsRUFBYyxRQUFJQyxJQVJwQixDQVNHSyxNQUFNLFdBQ1QsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVQLFFBR25DLElBQUlDLEVBQVNJLEVBQWlCRSxHQUFZLENBQ3pDQyxFQUFHRCxFQUNIRSxHQUFHLEVBQ0hULFFBQVMsSUFVVixP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S0FBQSxFQUFhK0MsRUFBU3hCLE1BQVEsU0FDOUIsRUFBQXZCLEtBQUEsRUFBb0IrQyxFQUFTd0UsYUFBZSxJQUU1QyxFQUFBdkgsS0FBQSxRQUFBQSxNQUVBLEVBQUFBLEtBQUEsUUFBQUEsTUFFQSxFQUFBQSxLQUFBLFFBQUFBLE8sNGVBMUNpQjhDLEUsV0FvWkYsV0FDZjBFLFFBQVFDLElBQUksaUIiLCJmaWxlIjoidHN1bWFtaS5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlRzdW1hbWlcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiVHN1bWFtaVwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsIi8vIGNzc1xyXG5leHBvcnQgY29uc3QgX3B4ID0gKG51bSkgPT4ge1xyXG5cdHJldHVybiBudW0gKyBcInB4XCI7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBfZGVnID0gKG51bSkgPT4ge1xyXG5cdHJldHVybiBudW0gKyBcImRlZ1wiO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgX3JvdGF0ZSA9IChudW0pID0+IHtcclxuXHRyZXR1cm4gXCJyb3RhdGUoXCIgKyBfZGVnKE1hdGguZmxvb3IobnVtKSkgKyBcIilcIjtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IF9za2V3WSA9IChudW0pID0+IHtcclxuXHRyZXR1cm4gXCJza2V3WShcIiArIF9kZWcoTWF0aC5mbG9vcihudW0pKSArIFwiKVwiO1xyXG59XHJcblxyXG4vLyBjc3Plj5blvpcv5LuY5LiO57O7XHJcbmV4cG9ydCBjb25zdCBfd2hpbGVTcGFjZSA9IChvYmopID0+IHtcclxuXHRsZXQgcmV0dXJuT2JqID0gXCJcIjtcclxuXHRmb3IgKGxldCB2IG9mIG9iaikge1xyXG5cdFx0cmV0dXJuT2JqICs9IHYgKyBcIiBcIjtcclxuXHR9XHJcblx0cmV0dXJuIHJldHVybk9iajtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IF9yZXR1cm5UcmFuc2Zvcm1WYWx1ZSA9IChlbGVtZW50LCBuYW1lKSA9PiB7XHJcblx0Y29uc3QgdE5hbWUgPSBuYW1lICsgXCIoXCI7XHJcblx0cmV0dXJuICsoZWxlbWVudC5yZXBsYWNlKHROYW1lLCBcIlwiKS5yZXBsYWNlKFwiZGVnKVwiLCBcIlwiKSk7XHJcbn0iLCJpbXBvcnQgKiBhcyBjc3NGdW5jIGZyb20gXCIuL2Nzc0Z1bmNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRzdW1hbWkge1xyXG4gICNzaXplO1xyXG4gICN0YXJnZXQ7XHJcbiAgI2JnY29sb3I7XHJcbiAgI3RtbWNvbG9yO1xyXG4gICNtYmdjb2xvcjtcclxuICAjbWV0ZXJTaXplO1xyXG4gICNkZWdyZWU7XHJcbiAgI3NjYWxlO1xyXG4gICNtaW47XHJcbiAgI21heDtcclxuICAjb2JqO1xyXG4gICNtY29sb3I7XHJcbiAgI3BvaW50O1xyXG4gICN2YWx1ZTtcclxuICAjbW9kZTtcclxuICAjY2VudGVyVmFsdWU7XHJcbiAgI21vZGVudW07XHJcblxyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzKSB7XHJcbiAgICBzZXR0aW5ncyA9IChzZXR0aW5ncyA9PT0gdW5kZWZpbmVkKSA/IHt9IDogc2V0dGluZ3M7XHJcbiAgICB0aGlzLiNzaXplID0gc2V0dGluZ3Muc2l6ZSB8fCAxMDA7XHJcbiAgICB0aGlzLiN0YXJnZXQgPSBzZXR0aW5ncy50YXJnZXQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0c3VtYW1pXCIpO1xyXG4gICAgdGhpcy4jYmdjb2xvciA9IHNldHRpbmdzLmJnY29sb3IgfHwgXCJyZWRcIjtcclxuICAgIHRoaXMuI3RtbWNvbG9yID0gc2V0dGluZ3MudG1tY29sb3IgfHwgXCJ5ZWxsb3dcIjtcclxuICAgIHRoaXMuI21iZ2NvbG9yID0gc2V0dGluZ3MubWJnY29sb3IgfHwgXCJibGFja1wiO1xyXG4gICAgdGhpcy4jbWV0ZXJTaXplID0gc2V0dGluZ3MubWV0ZXJTaXplIHx8IDEwO1xyXG4gICAgdGhpcy4jZGVncmVlID0gc2V0dGluZ3MuZGVncmVlIHx8IDI3MDtcclxuICAgIHRoaXMuI3NjYWxlID0gc2V0dGluZ3Muc2NhbGUgfHwgMS4yO1xyXG4gICAgdGhpcy4jbWluID0gc2V0dGluZ3MubWluIHx8IDA7XHJcbiAgICB0aGlzLiNtYXggPSBzZXR0aW5ncy5tYXggfHwgMTAwO1xyXG4gICAgdGhpcy4jb2JqID0gc2V0dGluZ3Mub2JqIHx8IFwiXCI7XHJcbiAgICB0aGlzLiNtY29sb3IgPSBzZXR0aW5ncy5tY29sb3IgfHwgXCJibHVlXCI7XHJcbiAgICB0aGlzLiNwb2ludCA9IHNldHRpbmdzLnBvaW50IHx8IFwicHVycGxlXCI7XHJcbiAgICB0aGlzLiN2YWx1ZSA9IHNldHRpbmdzLnZhbHVlIHx8IHRoaXMuI21pbjtcclxuICAgIHRoaXMuI21vZGUgPSBzZXR0aW5ncy5tb2RlIHx8IFwibm9tYWxcIjtcclxuICAgIHRoaXMuI2NlbnRlclZhbHVlID0gc2V0dGluZ3MuY2VudGVyVmFsdWUgfHwgNTA7XHJcblxyXG4gICAgdGhpcy4jY3JlYXRlVGFnKCk7XHJcblxyXG4gICAgdGhpcy4jbW9kZUFkanVzdG1lbnQoKTtcclxuXHJcbiAgICB0aGlzLiNtYWluKCk7XHJcbiAgfVxyXG5cclxuICAjY3JlYXRlVGFnID0gKCkgPT4ge1xyXG4gICAgdGhpcy5tZXRlcmJnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLnBpZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XHJcbiAgICB0aGlzLm1ldGVyYmdob2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLm1ldGVyYmdob2xlb3V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICB0aGlzLnRzdW1hbWkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMucG9pbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMuc2xpY2VNZXRlckJnID0gW107XHJcbiAgICB0aGlzLnNsaWNlTWV0ZXJCZ0NvbnRlbnRzID0gW107XHJcbiAgICB0aGlzLnNsaWNlTWV0ZXIgPSBbXTtcclxuICAgIHRoaXMuc2xpY2VNZXRlckNvbnRlbnRzID0gW107XHJcbiAgfVxyXG5cclxuICAjbW9kZUFkanVzdG1lbnQgPSAoKSA9PiB7XHJcbiAgICB2YXIgbW9kZWFyciA9IFtcImNlbnRlclwiXTtcclxuICAgIHRoaXMuI21vZGVudW0gPSAwO1xyXG4gICAgZm9yKHZhciBpIGluIG1vZGVhcnIpe1xyXG4gICAgICBpZihtb2RlYXJyW2ldPT09dGhpcy4jbW9kZSl7XHJcbiAgICAgICAgdGhpcy4jbW9kZW51bSA9IGkrMTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYodGhpcy4jbW9kZW51bT09MSl7XHJcbiAgICAgIHRoaXMuI3ZhbHVlID0gMDtcclxuICAgICAgdGhpcy4jbWluID0gLXRoaXMuI2NlbnRlclZhbHVlO1xyXG4gICAgICB0aGlzLiNtYXggPSB0aGlzLiNjZW50ZXJWYWx1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gICNtYWluID0gKCkgPT4ge1xyXG4gICAgLy8gb3V0ZXIgZnJhbWVcclxuICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLiN0YXJnZXQsIHtcclxuICAgICAgY2VudGVyOiBmYWxzZSxcclxuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUpLFxyXG4gICAgICBoZWlnaHQ6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUpLFxyXG4gICAgICBiYWNrZ3JvdW5kOiB0aGlzLiNiZ2NvbG9yXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBNZXRlciBCYWNrZ3JvdW5kXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5tZXRlcmJnLCB7XHJcbiAgICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgICBiYWNrZ3JvdW5kOiB0aGlzLiNtYmdjb2xvcixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIHRoaXMuI3NjYWxlKSxcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlcmJnXCIsIHRoaXMuI3RhcmdldCk7XHJcblxyXG4gICAgLy8gSGlkZSB0aGUgbWV0ZXIgb3IgRnJhbWUgb2YgdGhlIG1ldGVyIHNlY3Rpb25cclxuICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnBpZSwge1xyXG4gICAgICBjZW50ZXI6IGZhbHNlLFxyXG4gICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcclxuICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxyXG4gICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgICBwYWRkaW5nOiAwLFxyXG4gICAgICBtYXJnaW46IDAsXHJcbiAgICAgIHdpZHRoOiBjc3NGdW5jLl9weCh0aGlzLiNzaXplKSxcclxuICAgICAgaGVpZ2h0OiBjc3NGdW5jLl9weCh0aGlzLiNzaXplKSxcclxuICAgICAgbGVmdDogY3NzRnVuYy5fcHgoKHRoaXMuI3NpemUgLSB0aGlzLiNzaXplIC8gdGhpcy4jc2NhbGUpIC8gKC0yKSksXHJcbiAgICAgIHRvcDogY3NzRnVuYy5fcHgoKHRoaXMuI3NpemUgLSB0aGlzLiNzaXplIC8gdGhpcy4jc2NhbGUpIC8gKC0yKSksXHJcbiAgICB9LCBcInRzdW1hbWktbWV0ZXJcIiwgdGhpcy5tZXRlcmJnKTtcclxuXHJcbiAgICAvLyBDcmVhdGluZyBhIGZhbiBzaGFwZSB0byBoaWRlIHRoZSBtZXRlclxyXG4gICAgdGhpcy4jY3JlYXRlc2xpY2VNZXRlckJnKHRoaXMuI2RlZ3JlZSk7XHJcblxyXG4gICAgLy8gQ3JlYXRlIGEgZmFuIHNoYXBlIHRvIGRpc3BsYXkgdGhlIG1ldGVyXHJcbiAgICB0aGlzLiNjcmVhdGVzbGljZU1ldGVyKHRoaXMuI2RlZ3JlZSk7XHJcblxyXG4gICAgLy8gaW5uZXIgY2lyY2xlXHJcbiAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5tZXRlcmJnaG9sZSwge1xyXG4gICAgICBjZW50ZXI6IHRydWUsXHJcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSAtIHRoaXMuI21ldGVyU2l6ZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIHRoaXMuI3NjYWxlIC0gdGhpcy4jbWV0ZXJTaXplKSxcclxuICAgICAgYmFja2dyb3VuZDogdGhpcy4jYmdjb2xvcixcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlcmhvbGVcIiwgdGhpcy5tZXRlcmJnKTtcclxuXHJcbiAgICAvLyBvdXRlciBjaXJjbGVcclxuICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLm1ldGVyYmdob2xlb3V0LCB7XHJcbiAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgIGJvcmRlclJhZGl1czogXCI1MCVcIixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSksXHJcbiAgICAgIGhlaWdodDogY3NzRnVuYy5fcHgodGhpcy4jc2l6ZSAvIHRoaXMuI3NjYWxlKSxcclxuICAgICAgYmFja2dyb3VuZDogXCJyZ2JhKDAsMCwwLDApXCIsXHJcbiAgICAgIGJvcmRlcjogY3NzRnVuYy5fd2hpbGVTcGFjZShbXCJzb2xpZFwiLCBjc3NGdW5jLl9weCgodGhpcy4jc2l6ZSAtIHRoaXMuI3NpemUgLyB0aGlzLiNzY2FsZSkgLyAyKSwgdGhpcy4jYmdjb2xvcl0pLFxyXG4gICAgICBtYXJnaW46IDAsXHJcbiAgICAgIHRvcDogXCI1MCVcIixcclxuICAgICAgbGVmdDogXCI1MCVcIixcclxuICAgICAgdHJhbnNmb3JtOiBjc3NGdW5jLl93aGlsZVNwYWNlKFtcInRyYW5zbGF0ZVgoLTUwJSlcIiwgXCJ0cmFuc2xhdGVZKC01MCUpXCJdKSxcclxuICAgIH0sIFwidHN1bWFtaS1tZXRlcmhvbGUtb3V0XCIsIHRoaXMubWV0ZXJiZyk7XHJcblxyXG4gICAgLy8gc25hY2tcclxuICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnRzdW1hbWksIHtcclxuICAgICAgY2VudGVyOiB0cnVlLFxyXG4gICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcclxuICAgICAgd2lkdGg6IGNzc0Z1bmMuX3B4KHRoaXMuI3NpemUgLyAyKSxcclxuICAgICAgaGVpZ2h0OiBjc3NGdW5jLl9weCh0aGlzLiNzaXplIC8gMiksXHJcbiAgICAgIGJhY2tncm91bmQ6IHRoaXMuI3RtbWNvbG9yLFxyXG4gICAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICAgIHRyYW5zZm9ybTogY3NzRnVuYy5fcm90YXRlKHRoaXMuI2RlZ3JlZSAvIC0yKSxcclxuICAgIH0sIFwidHN1bWFtaS1pbm5lclwiLCB0aGlzLiN0YXJnZXQpO1xyXG5cclxuICAgIC8vIHN0aXRjaFxyXG4gICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMucG9pbnQsIHtcclxuICAgICAgY2VudGVyOiB0cnVlLFxyXG4gICAgICB3aWR0aDogXCIxMCVcIixcclxuICAgICAgaGVpZ2h0OiBcIjIwJVwiLFxyXG4gICAgICBiYWNrZ3JvdW5kOiB0aGlzLiNwb2ludCxcclxuICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZVkoLTEwMCUpXCIsXHJcbiAgICB9LCBcInRzdW1hbWktcG9pbnRcIiwgdGhpcy50c3VtYW1pKTtcclxuXHJcbiAgICAvLyBBZGRpdGlvbmFsIEV2ZW50c1xyXG4gICAgdGhpcy4jZXZlbnRBZGQodGhpcy50c3VtYW1pKTtcclxuXHJcbiAgICAvLyBSb3RhdGUgdG8gaW5pdGlhbCB2YWx1ZVxyXG4gICAgaWYodGhpcy4jbW9kZW51bT09MCl7XHJcbiAgICAgIGNvbnN0IGZpcnN0Um90YXRlID0gdGhpcy4jdmFsdWUqdGhpcy4jZGVncmVlLyh0aGlzLiNtYXgtdGhpcy4jbWluKTtcclxuICAgICAgdGhpcy4jcm90YXRlTWV0ZXIoZmlyc3RSb3RhdGUpO1xyXG4gICAgICB0aGlzLnRzdW1hbWkuc3R5bGUudHJhbnNmb3JtID0gY3NzRnVuYy5fcm90YXRlKGZpcnN0Um90YXRlIC0gdGhpcy4jZGVncmVlLzIpO1xyXG4gICAgfWVsc2UgaWYodGhpcy4jbW9kZW51bT09MSl7XHJcbiAgICAgIHRoaXMudHN1bWFtaS5zdHlsZS50cmFuc2Zvcm0gPSBjc3NGdW5jLl9yb3RhdGUoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2V0IHRvIGluaXRpYWwgdmFsdWVcclxuICAgIHRoaXMuI291dHB1dE9iamVjdC52YWx1ZSA9IHRoaXMuI3ZhbHVlO1xyXG4gIH1cclxuXHJcbiAgLy9jZW50ZXJcclxuICAjc3R5bGVDZW50ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBzdHlsZSA9IHtcclxuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcclxuICAgICAgdG9wOiAwLFxyXG4gICAgICByaWdodDogMCxcclxuICAgICAgYm90dG9tOiAwLFxyXG4gICAgICBsZWZ0OiAwLFxyXG4gICAgICBtYXJnaW46IFwiYXV0b1wiLFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN0eWxlO1xyXG4gIH1cclxuXHJcbiAgLy8gQWRkIGNzc1xyXG4gICNhZGRTdHlsZUVsZW1lbnQgPSAoZWxlbWVudCwgc3R5bGUsIGNsYXNzTmFtZSA9IHVuZGVmaW5lZCwgdGFyZ2V0ID0gdW5kZWZpbmVkKSA9PiB7XHJcbiAgICBpZiAoY2xhc3NOYW1lICE9PSB2b2lkIDApIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xyXG4gICAgaWYgKHN0eWxlLmNlbnRlcikgc3R5bGUgPSBPYmplY3QuYXNzaWduKHRoaXMuI3N0eWxlQ2VudGVyKCksIHN0eWxlKTtcclxuICAgIGRlbGV0ZSBzdHlsZS5jZW50ZXI7XHJcbiAgICBmb3IgKGxldCBrZXkgaW4gc3R5bGUpIHtcclxuICAgICAgZWxlbWVudC5zdHlsZVtrZXldID0gc3R5bGVba2V5XTtcclxuICAgIH1cclxuICAgIGlmICh0YXJnZXQgIT09IHZvaWQgMCkgdGFyZ2V0LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgI21ldGVyU3R5bGUgPSB7XHJcbiAgICBjZW50ZXI6IGZhbHNlLFxyXG4gICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXHJcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxyXG4gICAgd2lkdGg6IFwiNTAlXCIsXHJcbiAgICBoZWlnaHQ6IFwiNTAlXCIsXHJcbiAgICB0cmFuc2Zvcm1PcmlnaW46IFwiMCUgMTAwJVwiLFxyXG4gIH1cclxuXHJcbiAgI21ldGVyQ29udGVudFN0eWxlID0ge1xyXG4gICAgY2VudGVyOiBmYWxzZSxcclxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICBsZWZ0OiBcIi0xMDAlXCIsXHJcbiAgICBib3JkZXJSYWRpdXM6IFwiNTAlXCIsXHJcbiAgICB3aWR0aDogXCIyMDAlXCIsXHJcbiAgICBoZWlnaHQ6IFwiMjAwJVwiLFxyXG4gIH1cclxuXHJcbiAgLy8gQ3JlYXRpbmcgYSBmYW4gc2hhcGUgdG8gaGlkZSB0aGUgbWV0ZXJcclxuICAjY3JlYXRlc2xpY2VNZXRlckJnID0gKGRlZ3JlZSkgPT4ge1xyXG4gICAgZGVncmVlID0gKGRlZ3JlZSA+IDM2MCkgPyAwIDogMzYwIC0gZGVncmVlO1xyXG4gICAgY29uc3QgYmYgPSAoZGVncmVlICUgOTAgPT0gMCkgPyAwIDogMTtcclxuICAgIGNvbnN0IG51bSA9IDQ7Ly9kZWdyZWUgLyA5MCArIGJmO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcclxuICAgICAgbGV0IGRlZ3JlZVBpZWNlID0gMDtcclxuICAgICAgaWYgKGRlZ3JlZSA9PSAwKSB7XHJcbiAgICAgICAgdGhpcy5zbGljZU1ldGVyQmdbaV0gPSBcIlwiO1xyXG4gICAgICAgIHRoaXMuc2xpY2VNZXRlckJnQ29udGVudHNbaV0gPSBcIlwiO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9IGVsc2UgaWYgKGRlZ3JlZSA+PSA5MCkge1xyXG4gICAgICAgIGRlZ3JlZVBpZWNlID0gOTA7XHJcbiAgICAgICAgZGVncmVlIC09IDkwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRlZ3JlZVBpZWNlID0gZGVncmVlO1xyXG4gICAgICAgIGRlZ3JlZSA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5zbGljZU1ldGVyQmdbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcbiAgICAgIHRoaXMuc2xpY2VNZXRlckJnQ29udGVudHNbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5zbGljZU1ldGVyQmdbaV0sIHtcclxuICAgICAgICAuLi50aGlzLiNtZXRlclN0eWxlLFxyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICByaWdodDogMCxcclxuICAgICAgICB0cmFuc2Zvcm06IGNzc0Z1bmMuX3doaWxlU3BhY2UoW2Nzc0Z1bmMuX3JvdGF0ZShkZWdyZWVQaWVjZSAvICgtMikgKyAxODAgLSBpICogNDUgKyBkZWdyZWUgLyAyKSwgY3NzRnVuYy5fc2tld1koLTkwICsgZGVncmVlUGllY2UpXSksXHJcbiAgICAgIH0sIFwic2xpY2VNZXRlckJnXCIsIHRoaXMucGllKTtcclxuXHJcbiAgICAgIHRoaXMuI2FkZFN0eWxlRWxlbWVudCh0aGlzLnNsaWNlTWV0ZXJCZ0NvbnRlbnRzW2ldLCB7XHJcbiAgICAgICAgLi4udGhpcy4jbWV0ZXJDb250ZW50U3R5bGUsXHJcbiAgICAgICAgYmFja2dyb3VuZDogdGhpcy4jYmdjb2xvcixcclxuICAgICAgICB0cmFuc2Zvcm06IGNzc0Z1bmMuX3NrZXdZKDkwIC0gZGVncmVlUGllY2UpLFxyXG4gICAgICB9LCBcInNsaWNlTWV0ZXJCZy1jb250ZW50c1wiLCB0aGlzLnNsaWNlTWV0ZXJCZ1tpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBjcmVhdGUgbWV0ZXJcclxuICAjY3JlYXRlc2xpY2VNZXRlciA9IChkZWdyZWUpID0+IHtcclxuICAgIGNvbnN0IGJmID0gKGRlZ3JlZSAlIDkwID09IDApID8gMCA6IDE7XHJcbiAgICBjb25zdCBudW0gPSA0Oy8vZGVncmVlIC8gOTAgKyBiZjtcclxuICAgIGRlZ3JlZSA9IChkZWdyZWUgPiAzNjApID8gMCA6IDM2MCAtIGRlZ3JlZTtcclxuICAgIHZhciB0ciA9IFt7XHJcbiAgICAgICAgdG9wOiBjc3NGdW5jLl9weCgwKSxcclxuICAgICAgICByaWdodDogY3NzRnVuYy5fcHgoLTEpXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICB0b3A6IGNzc0Z1bmMuX3B4KDEpLFxyXG4gICAgICAgIHJpZ2h0OiBjc3NGdW5jLl9weCgwKVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgdG9wOiBjc3NGdW5jLl9weCgwKSxcclxuICAgICAgICByaWdodDogY3NzRnVuYy5fcHgoMSlcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHRvcDogY3NzRnVuYy5fcHgoLTEpLFxyXG4gICAgICAgIHJpZ2h0OiBjc3NGdW5jLl9weCgwKVxyXG4gICAgICB9LFxyXG4gICAgXTtcclxuICAgIGNvbnN0IGNlbnRlclJvdGF0ZSA9IFswLDkwLDAsLTkwXTsvLyNtb2RlbnVtID09IDFcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHtcclxuICAgICAgdGhpcy5zbGljZU1ldGVyW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgICB0aGlzLnNsaWNlTWV0ZXJDb250ZW50c1tpXSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHt0cmFuc2Zvcm06IGNzc0Z1bmMuX3doaWxlU3BhY2UoW2Nzc0Z1bmMuX3JvdGF0ZSgxODAgKyA5MCAqIGkgKyBkZWdyZWUgLyAyKSwgY3NzRnVuYy5fc2tld1koLTkwKV0pfVxyXG4gICAgICBpZih0aGlzLiNtb2RlbnVtID09IDEpe1xyXG4gICAgICAgIHRyYW5zZm9ybSA9IHt0cmFuc2Zvcm06IGNzc0Z1bmMuX3doaWxlU3BhY2UoW2Nzc0Z1bmMuX3JvdGF0ZShjZW50ZXJSb3RhdGVbaV0pLCBjc3NGdW5jLl9za2V3WSgtOTApXSl9XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy4jYWRkU3R5bGVFbGVtZW50KHRoaXMuc2xpY2VNZXRlcltpXSwge1xyXG4gICAgICAgIC4uLnRoaXMuI21ldGVyU3R5bGUsXHJcbiAgICAgICAgLi4udHJhbnNmb3JtLFxyXG4gICAgICAgIC4uLnRyW2ldXHJcbiAgICAgIH0sIFwic2xpY2VNZXRlclwiLCB0aGlzLnBpZSk7XHJcblxyXG4gICAgICB0aGlzLiNhZGRTdHlsZUVsZW1lbnQodGhpcy5zbGljZU1ldGVyQ29udGVudHNbaV0sIHtcclxuICAgICAgICAuLi50aGlzLiNtZXRlckNvbnRlbnRTdHlsZSxcclxuICAgICAgICBiYWNrZ3JvdW5kOiB0aGlzLiNtY29sb3IsXHJcbiAgICAgICAgdHJhbnNmb3JtOiBjc3NGdW5jLl9za2V3WSg5MCksXHJcbiAgICAgIH0sIFwic2xpY2VNZXRlci1jb250ZW50c1wiLCB0aGlzLnNsaWNlTWV0ZXJbaV0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gbW91c2UgZXZlbnRcclxuICAjZXZlbnRBZGQgPSAoZWxlbWVudCkgPT4ge1xyXG4gICAgdGhpcy4jY2xpY2sgPSBmYWxzZTtcclxuICAgIHRoaXMuI21lbW9yeVkgPSAwO1xyXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMuI09uTW91c2VEb3duLCBmYWxzZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCAoZSkgPT4ge1xyXG4gICAgICB0aGlzLiNPbk1vdXNlTW92ZShlLCBlbGVtZW50KVxyXG4gICAgfSwgZmFsc2UpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIHRoaXMuI09uTW91c2VVcCwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgI2NsaWNrO1xyXG4gICNtZW1vcnlZO1xyXG4gICNPbk1vdXNlRG93biA9IChldmVudCkgPT4ge1xyXG4gICAgdGhpcy4jY2xpY2sgPSB0cnVlO1xyXG4gICAgdGhpcy4jbWVtb3J5WSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcIk1vdXNlRG93blwiKTtcclxuICB9XHJcblxyXG4gICNPbk1vdXNlTW92ZSA9IChldmVudCwgZWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKHRoaXMuI2NsaWNrKSB7XHJcbiAgICAgIGNvbnN0IHJvdGF0ZURlZ3JlZUJlZm9yZSA9IGNzc0Z1bmMuX3JldHVyblRyYW5zZm9ybVZhbHVlKGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtLCBcInJvdGF0ZVwiKTtcclxuICAgICAgbGV0IHJvdGF0ZURlZ3JlZUFmdGVyID0gcm90YXRlRGVncmVlQmVmb3JlICsgKGV2ZW50LmNsaWVudFkgLSB0aGlzLiNtZW1vcnlZKSAqIDM7XHJcbiAgICAgIGNvbnN0IGRlZ1ZhbHVlID0gdGhpcy4jbGltaXQocm90YXRlRGVncmVlQWZ0ZXIsIC10aGlzLiNkZWdyZWUgLyAyLCB0aGlzLiNkZWdyZWUgLyAyKTtcclxuICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm0gPSBjc3NGdW5jLl9yb3RhdGUoZGVnVmFsdWUpO1xyXG4gICAgICB0aGlzLiNtZW1vcnlZID0gZXZlbnQuY2xpZW50WTtcclxuXHJcbiAgICAgIHRoaXMuI3JvdGF0ZU1ldGVyKGRlZ1ZhbHVlICsgdGhpcy4jZGVncmVlIC8gMik7XHJcblxyXG4gICAgICB0aGlzLiNvdXRwdXRPYmplY3QudmFsdWUgPSAodGhpcy4jbWF4IC0gdGhpcy4jbWluKSAqIChkZWdWYWx1ZSArIHRoaXMuI2RlZ3JlZSAvIDIpIC8gdGhpcy4jZGVncmVlICsgdGhpcy4jbWluO1xyXG5cclxuICAgICAgLy8gY29uc29sZS5sb2coXCJNb3VzZU1vdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAjT25Nb3VzZVVwID0gKGV2ZW50KSA9PiB7XHJcbiAgICB0aGlzLiNjbGljayA9IGZhbHNlO1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJNb3VzZVVwXCIpO1xyXG4gIH1cclxuXHJcbiAgLy9zZXQgdmFsdWVcclxuICAjb3V0cHV0T2JqZWN0ID0gKCgpID0+IHtcclxuICAgIHZhciB2YWwgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gICAgdmFyIG1lbVZhbHVlID0gMDtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YWwsICd2YWx1ZScsIHtcclxuICAgICAgc2V0OiAodmFsdWUpID0+IHtcclxuICAgICAgICBpZiAodGhpcy4jb2JqICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICB0aGlzLiNvYmoudmFsdWUgPSB2YWx1ZTsgLy9zZXRcclxuICAgICAgICB9XHJcbiAgICAgICAgbWVtVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgfSxcclxuICAgICAgZ2V0OiAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG1lbVZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB2YWw7XHJcbiAgfSkoKTtcclxuXHJcbiAgI3JvdGF0ZU1ldGVyID0gKGRlZ3JlZSkgPT4ge1xyXG4gICAgY29uc3Qgc00gPSB0aGlzLnNsaWNlTWV0ZXI7XHJcbiAgICBjb25zdCBzTUMgPSB0aGlzLnNsaWNlTWV0ZXJDb250ZW50cztcclxuICAgIGlmKHRoaXMuI21vZGVudW0gPT0gMCl7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zbGljZU1ldGVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHJvdGF0ZURlZyA9IDA7XHJcbiAgICAgICAgaWYgKGRlZ3JlZSA+PSA5MCkge1xyXG4gICAgICAgICAgcm90YXRlRGVnID0gOTA7XHJcbiAgICAgICAgICBkZWdyZWUgLT0gOTA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJvdGF0ZURlZyA9IGRlZ3JlZTtcclxuICAgICAgICAgIGRlZ3JlZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzbVRyYW5zZm9ybSA9IHNNW2ldLnN0eWxlLnRyYW5zZm9ybS5zcGxpdChcIiBcIilbMF07XHJcbiAgICAgICAgc01baV0uc3R5bGUudHJhbnNmb3JtID0gY3NzRnVuYy5fd2hpbGVTcGFjZShbc21UcmFuc2Zvcm0sIGNzc0Z1bmMuX3NrZXdZKC05MCArIHJvdGF0ZURlZyldKTtcclxuICAgICAgICBzTUNbaV0uc3R5bGUudHJhbnNmb3JtID0gY3NzRnVuYy5fc2tld1koOTAgLSByb3RhdGVEZWcpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy4jbW9kZW51bSA9PSAxKXtcclxuICAgICAgdmFyIHQgPSBbXHJcbiAgICAgICAgWy05MCwtMV0sXHJcbiAgICAgICAgWzAsLTFdLFxyXG4gICAgICAgIFswLDBdLFxyXG4gICAgICAgIFs5MCwwXVxyXG4gICAgICBdXHJcbiAgICAgIGRlZ3JlZSA9IGRlZ3JlZSAtIHRoaXMuI2RlZ3JlZSAvIDI7XHJcbiAgICAgIHZhciByb3RhdGVEZWcgPSBbXHJcbiAgICAgICAgdGhpcy4jbGltaXQoLWRlZ3JlZS05MCwwLDkwKSxcclxuICAgICAgICB0aGlzLiNsaW1pdCgtZGVncmVlLDAsOTApLFxyXG4gICAgICAgIHRoaXMuI2xpbWl0KGRlZ3JlZSwwLDkwKSxcclxuICAgICAgICB0aGlzLiNsaW1pdChkZWdyZWUtOTAsMCw5MClcclxuICAgICAgXTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNsaWNlTWV0ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzTVtpXS5zdHlsZS50cmFuc2Zvcm0gPSBjc3NGdW5jLl93aGlsZVNwYWNlKFtjc3NGdW5jLl9yb3RhdGUodFtpXVswXSArIHRbaV1bMV0qcm90YXRlRGVnW2ldKSwgY3NzRnVuYy5fc2tld1koLTkwICsgcm90YXRlRGVnW2ldKV0pO1xyXG4gICAgICAgIHNNQ1tpXS5zdHlsZS50cmFuc2Zvcm0gPSBjc3NGdW5jLl9za2V3WSg5MCAtIHJvdGF0ZURlZ1tpXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIGZ1bmN0aW9uXHJcbiAgI2xpbWl0ID0gKHZhbHVlLCBtaW4sIG1heCkgPT4ge1xyXG4gICAgaWYgKHZhbHVlIDwgbWluKSB7XHJcbiAgICAgIHZhbHVlID0gbWluO1xyXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA+IG1heCkge1xyXG4gICAgICB2YWx1ZSA9IG1heDtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9XHJcblxyXG4gIC8vIHRlc3QgbG9nXHJcbiAgc3RhdGljIHRlc3Rsb2cgPSAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcInRlc3Rsb2dcIik7XHJcbiAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==